module.exports = [
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[externals]/path [external] (path, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("path", () => require("path"));

module.exports = mod;
}),
"[externals]/os [external] (os, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("os", () => require("os"));

module.exports = mod;
}),
"[externals]/node:fs/promises [external] (node:fs/promises, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:fs/promises", () => require("node:fs/promises"));

module.exports = mod;
}),
"[externals]/crypto [external] (crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}),
"[externals]/stream [external] (stream, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}),
"[externals]/buffer [external] (buffer, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("buffer", () => require("buffer"));

module.exports = mod;
}),
"[externals]/fs/promises [external] (fs/promises, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs/promises", () => require("fs/promises"));

module.exports = mod;
}),
"[externals]/fs [external] (fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}),
"[externals]/process [external] (process, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("process", () => require("process"));

module.exports = mod;
}),
"[externals]/http2 [external] (http2, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("http2", () => require("http2"));

module.exports = mod;
}),
"[externals]/node:fs [external] (node:fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:fs", () => require("node:fs"));

module.exports = mod;
}),
"[project]/path/path-web/lib/aws/bedrock.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "invokeClaude",
    ()=>invokeClaude,
    "invokeClaudeStream",
    ()=>invokeClaudeStream
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$path$2f$path$2d$web$2f$node_modules$2f40$aws$2d$sdk$2f$client$2d$bedrock$2d$runtime$2f$dist$2d$es$2f$BedrockRuntimeClient$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/path/path-web/node_modules/@aws-sdk/client-bedrock-runtime/dist-es/BedrockRuntimeClient.js [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$path$2f$path$2d$web$2f$node_modules$2f40$aws$2d$sdk$2f$client$2d$bedrock$2d$runtime$2f$dist$2d$es$2f$commands$2f$InvokeModelCommand$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/path/path-web/node_modules/@aws-sdk/client-bedrock-runtime/dist-es/commands/InvokeModelCommand.js [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$path$2f$path$2d$web$2f$node_modules$2f40$aws$2d$sdk$2f$client$2d$bedrock$2d$runtime$2f$dist$2d$es$2f$commands$2f$InvokeModelWithResponseStreamCommand$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/path/path-web/node_modules/@aws-sdk/client-bedrock-runtime/dist-es/commands/InvokeModelWithResponseStreamCommand.js [app-route] (ecmascript) <locals>");
;
const client = new __TURBOPACK__imported__module__$5b$project$5d2f$path$2f$path$2d$web$2f$node_modules$2f40$aws$2d$sdk$2f$client$2d$bedrock$2d$runtime$2f$dist$2d$es$2f$BedrockRuntimeClient$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["BedrockRuntimeClient"]({
    region: process.env.AWS_REGION || "us-east-1"
});
const MODEL_ID = "global.anthropic.claude-sonnet-4-5-20250929-v1:0";
async function invokeClaude(prompt, systemPrompt) {
    const messages = [
        {
            role: "user",
            content: prompt
        }
    ];
    const body = {
        anthropic_version: "bedrock-2023-05-31",
        max_tokens: 16000,
        messages,
        temperature: 0.5
    };
    if (systemPrompt) {
        body.system = systemPrompt;
    }
    const command = new __TURBOPACK__imported__module__$5b$project$5d2f$path$2f$path$2d$web$2f$node_modules$2f40$aws$2d$sdk$2f$client$2d$bedrock$2d$runtime$2f$dist$2d$es$2f$commands$2f$InvokeModelCommand$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["InvokeModelCommand"]({
        modelId: MODEL_ID,
        body: JSON.stringify(body)
    });
    const response = await client.send(command);
    const result = JSON.parse(new TextDecoder().decode(response.body));
    return result.content[0].text;
}
async function* invokeClaudeStream(prompt, systemPrompt) {
    const messages = [
        {
            role: "user",
            content: prompt
        }
    ];
    const body = {
        anthropic_version: "bedrock-2023-05-31",
        max_tokens: 16000,
        messages,
        temperature: 0.5
    };
    if (systemPrompt) {
        body.system = systemPrompt;
    }
    const command = new __TURBOPACK__imported__module__$5b$project$5d2f$path$2f$path$2d$web$2f$node_modules$2f40$aws$2d$sdk$2f$client$2d$bedrock$2d$runtime$2f$dist$2d$es$2f$commands$2f$InvokeModelWithResponseStreamCommand$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["InvokeModelWithResponseStreamCommand"]({
        modelId: MODEL_ID,
        body: JSON.stringify(body)
    });
    const response = await client.send(command);
    if (response.body) {
        for await (const event of response.body){
            if (event.chunk?.bytes) {
                const chunk = JSON.parse(new TextDecoder().decode(event.chunk.bytes));
                if (chunk.type === "content_block_delta") {
                    if (chunk.delta?.text) {
                        yield chunk.delta.text;
                    }
                }
            }
        }
    }
}
}),
"[project]/path/path-web/app/api/bedrock/spec/route.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "POST",
    ()=>POST,
    "maxDuration",
    ()=>maxDuration
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$path$2f$path$2d$web$2f$lib$2f$aws$2f$bedrock$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/path/path-web/lib/aws/bedrock.ts [app-route] (ecmascript)");
;
const maxDuration = 60;
async function POST(req) {
    try {
        const { analysis } = await req.json();
        const systemPrompt = `당신은 20년차 소프트웨어 아키텍트이자 AI Agent 전문가 그리고 P.A.T.H (Problem-Agent-Technical-Handoff) 프레임워크를 개발한 전문가입니다.`;
        const prompt = `다음 분석 결과를 바탕으로 프로토타입 구현을 위한 명세서를 작성하세요:

${JSON.stringify(analysis, null, 2)}

다음 5개 섹션만 작성하세요:

# AI Agent Design Specification

## 1. Executive Summary
- **Problem**: 해결하려는 문제 (1-2문장)
- **Solution**: 선택된 패턴과 접근 방법
- **Feasibility Score**: X/50 (판정)
- **Go/No-Go**: 추천 사항

## 2. Problem Decomposition
### INPUT
- 트리거 타입과 상세 설명
- 데이터 소스

### PROCESS
- 각 단계별 상세 설명 (번호 매겨서)

### OUTPUT
- 결과물 타입과 형식
- 전달 방법

### Human-in-Loop
- 사람 개입 시점과 방법

## 3. Architecture

### 3.1 System Architecture
\`\`\`mermaid
graph TB
    [전체 시스템 구조]
\`\`\`

### 3.2 Sequence Diagram
\`\`\`mermaid
sequenceDiagram
    [컴포넌트 간 상호작용]
\`\`\`

### 3.3 Flow Chart
\`\`\`mermaid
flowchart TD
    [처리 흐름]
\`\`\`

## 4. Agent Components

선택된 패턴에 맞게 작성하세요:

| Agent Name | Role | Input | Output | LLM | Tools |
|------------|------|-------|--------|-----|-------|

## 5. Technical Stack
- **Framework**:
    - 이유: 
- **LLM**: 
    - 용도: 
    - 이유: 

---

**중요1**: 위 5개 섹션만 작성하세요.
**중요2**: LLM은 Claude Opus 4.5, Sonnet 4.5, Haiku 4.5 중에서만 선택하세요.
**중요3**: Framework는 Strands SDK를 사용하세요.`;
        const encoder = new TextEncoder();
        const stream = new ReadableStream({
            async start (controller) {
                try {
                    for await (const chunk of (0, __TURBOPACK__imported__module__$5b$project$5d2f$path$2f$path$2d$web$2f$lib$2f$aws$2f$bedrock$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["invokeClaudeStream"])(prompt, systemPrompt)){
                        controller.enqueue(encoder.encode(`data: ${JSON.stringify({
                            text: chunk
                        })}\n\n`));
                    }
                    controller.enqueue(encoder.encode("data: [DONE]\n\n"));
                    controller.close();
                } catch (error) {
                    console.error("Error in spec stream:", error);
                    controller.error(error);
                }
            }
        });
        return new Response(stream, {
            headers: {
                "Content-Type": "text/event-stream",
                "Cache-Control": "no-cache",
                Connection: "keep-alive"
            }
        });
    } catch (error) {
        console.error("Error in spec API:", error);
        return new Response(JSON.stringify({
            error: "명세서 생성 중 오류가 발생했습니다",
            details: error.message
        }), {
            status: 500,
            headers: {
                "Content-Type": "application/json"
            }
        });
    }
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__085fe1d3._.js.map