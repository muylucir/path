module.exports=[30426,e=>{"use strict";var t=e.i(87891),r=e.i(5844),i=e.i(88947),a=e.i(80526);let s=async e=>"function"==typeof Blob&&e instanceof Blob||e.constructor?.name==="Blob"?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):o(e):n(e);async function o(e){var t;let r=await (t=e,new Promise((e,r)=>{let i=new FileReader;i.onloadend=()=>{if(2!==i.readyState)return r(Error("Reader aborted too early"));let t=i.result??"",a=t.indexOf(","),s=a>-1?a+1:t.length;e(t.substring(s))},i.onabort=()=>r(Error("Read aborted")),i.onerror=()=>r(i.error),i.readAsDataURL(t)}));return new Uint8Array((0,a.fromBase64)(r))}async function n(e){let t=[],r=e.getReader(),i=!1,a=0;for(;!i;){let{done:e,value:s}=await r.read();s&&(t.push(s),a+=s.length),i=e}let s=new Uint8Array(a),o=0;for(let e of t)s.set(e,o),o+=e.length;return s}var l=e.i(35058),d=e.i(75863),c=e.i(48128);let h=e=>"function"==typeof ReadableStream&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),u="The stream has already been transformed.",f=e=>"function"==typeof Blob&&e instanceof Blob,m="The stream has already been transformed.";e.s(["sdkStreamMixin",0,e=>{if(!(e instanceof i.Readable))try{if(!f(e)&&!h(e)){let t=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${t}`)}let t=!1,r=async()=>{if(t)throw Error(u);return t=!0,await s(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async e=>{let t=await r();if("base64"===e)return(0,l.toBase64)(t);if("hex"===e)return(0,d.toHex)(t);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,c.toUtf8)(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw Error(u);if(t=!0,f(e)){if("function"!=typeof e.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()}if(h(e))return e;throw Error(`Cannot transform payload to web stream, got ${e}`)}})}catch(r){let t=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${t}`)}let a=!1,o=async()=>{if(a)throw Error(m);return a=!0,await (0,t.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async e=>{let t=await o();return void 0===e||Buffer.isEncoding(e)?(0,r.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString(e):new TextDecoder(e).decode(t)},transformToWebStream:()=>{if(a)throw Error(m);if(null!==e.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof i.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return a=!0,i.Readable.toWeb(e)}})}],30426)},89999,e=>{"use strict";e.s(["splitHeader",0,e=>{let t,r=e.length,i=[],a=!1,s=0;for(let o=0;o<r;++o){let r=e[o];switch(r){case'"':"\\"!==t&&(a=!a);break;case",":a||(i.push(e.slice(s,o)),s=o+1)}t=r}return i.push(e.slice(s)),i.map(e=>{let t=(e=e.trim()).length;return t<2?e:('"'===e[0]&&'"'===e[t-1]&&(e=e.slice(1,t-1)),e.replace(/\\"/g,'"'))})}])},76279,e=>{"use strict";function t(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}e.s(["extendedEncodeURIComponent",()=>t])},15080,e=>{"use strict";let t="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",r="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",i="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",a="(\\d?\\d)",s="(\\d{4})",o=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),n=RegExp(`^${t}, ${a} ${r} ${s} ${i} GMT$`),l=RegExp(`^${t}, ${a}-${r}-(\\d\\d) ${i} GMT$`),d=RegExp(`^${t} ${r} ( [1-9]|\\d\\d) ${i} ${s}$`),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function h(e,t,r){let i=Number(e);if(i<t||i>r)throw Error(`Value ${i} out of range [${t}, ${r}]`)}e.s(["_parseEpochTimestamp",0,e=>{if(null==e)return;let t=NaN;if("number"==typeof e)t=e;else if("string"==typeof e){if(!/^-?\d*\.?\d+$/.test(e))throw TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else"object"==typeof e&&1===e.tag&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(1e3*t))},"_parseRfc3339DateTimeWithOffset",0,e=>{if(null==e)return;if("string"!=typeof e)throw TypeError("RFC3339 timestamps must be strings");let t=o.exec(e);if(!t)throw TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,i,a,s,n,l,,d,c]=t;h(i,1,12),h(a,1,31),h(s,0,23),h(n,0,59),h(l,0,60);let u=new Date(Date.UTC(Number(r),Number(i)-1,Number(a),Number(s),Number(n),Number(l),Number(d)?Math.round(1e3*parseFloat(`0.${d}`)):0));if(u.setUTCFullYear(Number(r)),"Z"!=c.toUpperCase()){let[,e,t,r]=/([+-])(\d\d):(\d\d)/.exec(c)||[void 0,"+",0,0];u.setTime(u.getTime()+("-"===e?1:-1)*(60*Number(t)*6e4+60*Number(r)*1e3))}return u},"_parseRfc7231DateTime",0,e=>{let t,r,i,a,s,o,u,f;if(null!=e){if("string"!=typeof e)throw TypeError("RFC7231 timestamps must be strings.");if((f=n.exec(e))?[,t,r,i,a,s,o,u]=f:(f=l.exec(e))?([,t,r,i,a,s,o,u]=f,i=(Number(i)+1900).toString()):(f=d.exec(e))&&([,r,t,a,s,o,u,i]=f),i&&o){let e=Date.UTC(Number(i),c.indexOf(r),Number(t),Number(a),Number(s),Number(o),u?Math.round(1e3*parseFloat(`0.${u}`)):0);h(t,1,31),h(a,0,23),h(s,0,59),h(o,0,60);let n=new Date(e);return n.setUTCFullYear(Number(i)),n}throw TypeError(`Invalid RFC7231 date-time value ${e}.`)}}])},62749,e=>{"use strict";var t=e.i(4448),r=e.i(15080),i=e.i(37767),a=e.i(40932),s=e.i(89999),o=e.i(80526),n=e.i(48128),l=e.i(31720),d=e.i(42008);class c extends l.SerdeContext{settings;constructor(e){super(),this.settings=e}read(e,n){let l=t.NormalizedSchema.of(e);if(l.isListSchema())return(0,s.splitHeader)(n).map(e=>this.read(l.getValueSchema(),e));if(l.isBlobSchema())return(this.serdeContext?.base64Decoder??o.fromBase64)(n);if(l.isTimestampSchema())switch((0,d.determineTimestampFormat)(l,this.settings)){case 5:return(0,r._parseRfc3339DateTimeWithOffset)(n);case 6:return(0,r._parseRfc7231DateTime)(n);case 7:return(0,r._parseEpochTimestamp)(n);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",n),new Date(n)}if(l.isStringSchema()){let e=l.getMergedTraits().mediaType,t=n;if(e)return l.getMergedTraits().httpHeader&&(t=this.base64ToUtf8(t)),("application/json"===e||e.endsWith("+json"))&&(t=i.LazyJsonString.from(t)),t}return l.isNumericSchema()?Number(n):l.isBigIntegerSchema()?BigInt(n):l.isBigDecimalSchema()?new a.NumericValue(n,"bigDecimal"):l.isBooleanSchema()?"true"===String(n).toLowerCase():n}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??n.toUtf8)((this.serdeContext?.base64Decoder??o.fromBase64)(e))}}e.s(["FromStringShapeDeserializer",()=>c])},21664,e=>{"use strict";var t=e.i(4448),r=e.i(80296),i=e.i(89999),a=e.i(90409),s=e.i(30426),o=e.i(47880),n=e.i(76279),l=e.i(40269);class d extends l.HttpProtocol{async serializeRequest(e,i,s){let o,l={...i??{}},d=this.serializer,c={},h={},u=await s.endpoint(),f=t.NormalizedSchema.of(e?.input),m=f.getSchema(),p=!1,g=new a.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:c,headers:h,body:void 0});if(u){this.updateServiceEndpoint(g,u),this.setHostPrefix(g,e,l);let t=(0,r.translateTraits)(e.traits);if(t.http){g.method=t.http[0];let[e,r]=t.http[1].split("?");"/"==g.path?g.path=e:g.path+=e,Object.assign(c,Object.fromEntries(new URLSearchParams(r??"")))}}for(let[e,t]of f.structIterator()){let r=t.getMergedTraits()??{},i=l[e];if(null!=i||t.isIdempotencyToken())if(r.httpPayload)t.isStreaming()?t.isStructSchema()?l[e]&&(o=await this.serializeEventStream({eventStream:l[e],requestSchema:f})):o=i:(d.write(t,i),o=d.flush()),delete l[e];else if(r.httpLabel){d.write(t,i);let r=d.flush();g.path.includes(`{${e}+}`)?g.path=g.path.replace(`{${e}+}`,r.split("/").map(n.extendedEncodeURIComponent).join("/")):g.path.includes(`{${e}}`)&&(g.path=g.path.replace(`{${e}}`,(0,n.extendedEncodeURIComponent)(r))),delete l[e]}else if(r.httpHeader)d.write(t,i),h[r.httpHeader.toLowerCase()]=String(d.flush()),delete l[e];else if("string"==typeof r.httpPrefixHeaders){for(let[e,a]of Object.entries(i)){let i=r.httpPrefixHeaders+e;d.write([t.getValueSchema(),{httpHeader:i}],a),h[i.toLowerCase()]=d.flush()}delete l[e]}else r.httpQuery||r.httpQueryParams?(this.serializeQuery(t,i,c),delete l[e]):p=!0}return p&&l&&(d.write(m,l),o=d.flush()),g.headers=h,g.query=c,g.body=o,g}serializeQuery(e,t,r){let i=this.serializer,a=e.getMergedTraits();if(a.httpQueryParams){for(let[i,s]of Object.entries(t))if(!(i in r)){let t=e.getValueSchema();Object.assign(t.getMergedTraits(),{...a,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(t,s,r)}return}if(e.isListSchema()){let s=!!e.getMergedTraits().sparse,o=[];for(let r of t){i.write([e.getValueSchema(),a],r);let t=i.flush();(s||void 0!==t)&&o.push(t)}r[a.httpQuery]=o}else i.write([e,a],t),r[a.httpQuery]=i.flush()}async deserializeResponse(e,r,i){let a=this.deserializer,s=t.NormalizedSchema.of(e.output),n={};if(i.statusCode>=300){let t=await (0,o.collectBody)(i.body,r);throw t.byteLength>0&&Object.assign(n,await a.read(15,t)),await this.handleError(e,r,i,n,this.deserializeMetadata(i)),Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let e in i.headers){let t=i.headers[e];delete i.headers[e],i.headers[e.toLowerCase()]=t}let l=await this.deserializeHttpMessage(s,r,i,n);if(l.length){let e=await (0,o.collectBody)(i.body,r);if(e.byteLength>0){let t=await a.read(s,e);for(let e of l)n[e]=t[e]}}else l.discardResponseBody&&await (0,o.collectBody)(i.body,r);return n.$metadata=this.deserializeMetadata(i),n}async deserializeHttpMessage(e,r,a,n,l){let d;d=n instanceof Set?l:n;let c=!0,h=this.deserializer,u=t.NormalizedSchema.of(e),f=[];for(let[e,t]of u.structIterator()){let n=t.getMemberTraits();if(n.httpPayload){if(c=!1,t.isStreaming())t.isStructSchema()?d[e]=await this.deserializeEventStream({response:a,responseSchema:u}):d[e]=(0,s.sdkStreamMixin)(a.body);else if(a.body){let i=await (0,o.collectBody)(a.body,r);i.byteLength>0&&(d[e]=await h.read(t,i))}}else if(n.httpHeader){let r=String(n.httpHeader).toLowerCase(),s=a.headers[r];if(null!=s)if(t.isListSchema()){let a=t.getValueSchema();a.getMergedTraits().httpHeader=r;let o=[];for(let e of a.isTimestampSchema()&&4===a.getSchema()?function(e,t,r){if(!Number.isInteger(2))throw Error("Invalid number of delimiters (2) for splitEvery.");let i=e.split(","),a=[],s="";for(let e=0;e<i.length;e++)""===s?s=i[e]:s+=","+i[e],(e+1)%2==0&&(a.push(s),s="");return""!==s&&a.push(s),a}(s,0,0):(0,i.splitHeader)(s))o.push(await h.read(a,e.trim()));d[e]=o}else d[e]=await h.read(t,s)}else if(void 0!==n.httpPrefixHeaders){for(let[r,i]of(d[e]={},Object.entries(a.headers)))if(r.startsWith(n.httpPrefixHeaders)){let a=t.getValueSchema();a.getMergedTraits().httpHeader=r,d[e][r.slice(n.httpPrefixHeaders.length)]=await h.read(a,i)}}else n.httpResponseCode?d[e]=a.statusCode:f.push(e)}return f.discardResponseBody=c,f}}var c=e.i(56389),h=e.i(48128),u=e.i(31720),f=e.i(62749);class m extends u.SerdeContext{codecDeserializer;stringDeserializer;constructor(e,t){super(),this.codecDeserializer=e,this.stringDeserializer=new f.FromStringShapeDeserializer(t)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){let i=t.NormalizedSchema.of(e),a=i.getMergedTraits(),s=this.serdeContext?.utf8Encoder??h.toUtf8;if(a.httpHeader||a.httpResponseCode)return this.stringDeserializer.read(i,s(r));if(a.httpPayload){if(i.isBlobSchema()){let e=this.serdeContext?.utf8Decoder??c.fromUtf8;return"string"==typeof r?e(r):r}else if(i.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(i,r)}}var p=e.i(49512),g=e.i(63708),b=e.i(37767),y=e.i(35058),S=u,w=e.i(42008);class T extends S.SerdeContext{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){let i=t.NormalizedSchema.of(e);switch(typeof r){case"object":if(null===r){this.stringBuffer="null";return}if(i.isTimestampSchema()){if(!(r instanceof Date))throw Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${i.getName(!0)}`);switch((0,w.determineTimestampFormat)(i,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=(0,p.dateToUtcString)(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(i.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??y.toBase64)(r);return}if(i.isListSchema()&&Array.isArray(r)){let e="";for(let t of r){var a;this.write([i.getValueSchema(),i.getMergedTraits()],t);let r=this.flush();""!==e&&(e+=", "),e+=i.getValueSchema().isTimestampSchema()?r:(((a=r).includes(",")||a.includes('"'))&&(a=`"${a.replace(/"/g,'\\"')}"`),a)}this.stringBuffer=e;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=i.getMergedTraits().mediaType,o=r;if(s&&(("application/json"===s||s.endsWith("+json"))&&(o=b.LazyJsonString.from(o)),i.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??y.toBase64)(o.toString());return}this.stringBuffer=r;break;default:i.isIdempotencyToken()?this.stringBuffer=(0,g.generateIdempotencyToken)():this.stringBuffer=String(r)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}class x{codecSerializer;stringSerializer;buffer;constructor(e,t,r=new T(t)){this.codecSerializer=e,this.stringSerializer=r}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){let i=t.NormalizedSchema.of(e),a=i.getMergedTraits();if(a.httpHeader||a.httpLabel||a.httpQuery){this.stringSerializer.write(i,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(i,r)}flush(){if(void 0!==this.buffer){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}var z=e.i(5161),C=e.i(20285),E=e.i(25286),B=e.i(49738);class R extends d{serializer;deserializer;codec;mixin=new C.ProtocolLib;constructor({defaultNamespace:e}){super({defaultNamespace:e});const t={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new E.JsonCodec(t),this.serializer=new x(this.codec.createSerializer(),t),this.deserializer=new m(this.codec.createDeserializer(),t)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,r,i){let a=await super.serializeRequest(e,r,i),s=t.NormalizedSchema.of(e.input);if(!a.headers["content-type"]){let e=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);e&&(a.headers["content-type"]=e)}return null==a.body&&a.headers["content-type"]===this.getDefaultContentType()&&(a.body="{}"),a}async deserializeResponse(e,r,i){let a=await super.deserializeResponse(e,r,i);for(let[r,i]of t.NormalizedSchema.of(e.output).structIterator())!i.getMemberTraits().httpPayload||r in a||(a[r]=null);return a}async handleError(e,r,i,a,s){let o=(0,B.loadRestJsonErrorCode)(i,a)??"Unknown",{errorSchema:n,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,i,a,s),d=t.NormalizedSchema.of(n),c=a.message??a.Message??"Unknown",h=new(z.TypeRegistry.for(n[1]).getErrorCtor(n)??Error)(c);await this.deserializeHttpMessage(n,r,i,a);let u={};for(let[e,t]of d.structIterator()){let r=t.getMergedTraits().jsonName??e;u[e]=this.codec.createDeserializer().readObject(t,a[r])}throw this.mixin.decorateServiceException(Object.assign(h,l,{$fault:d.getMergedTraits().error,message:c},u),a)}getDefaultContentType(){return"application/json"}}e.s(["AwsRestJsonProtocol",()=>R],21664)}];

//# sourceMappingURL=03239_f42fc8d8._.js.map