module.exports=[21517,(e,t,r)=>{t.exports=e.x("http",()=>require("http"))},24836,(e,t,r)=>{t.exports=e.x("https",()=>require("https"))},77080,e=>{"use strict";var t=e.i(60663),r=e.i(72483),o=e.i(21517),n=e.i(24836);let i=["ECONNRESET","EPIPE","ETIMEDOUT"];var s=e.i(31781),a=e.i(99906);let c=3e3;var l=e.i(37071);class u{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return"function"==typeof e?.handle?e:new u(e)}static checkSocketUsage(e,t,r=console){let{sockets:o,requests:n,maxSockets:i}=e;if("number"!=typeof i||i===1/0||Date.now()-15e3<t)return t;if(o&&n)for(let e in o){let t=o[e]?.length??0,s=n[e]?.length??0;if(t>=i&&s>=2*i)return r?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${t} and ${s} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(e){this.configProvider=new Promise((t,r)=>{"function"==typeof e?e().then(e=>{t(this.resolveDefaultConfig(e))}).catch(r):t(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:t,connectionTimeout:r,socketTimeout:i,socketAcquisitionWarningTimeout:s,httpAgent:a,httpsAgent:c,throwOnRequestTimeout:l}=e||{};return{connectionTimeout:r,requestTimeout:t,socketTimeout:i,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:l,httpAgent:a instanceof o.Agent||"function"==typeof a?.destroy?(this.externalAgent=!0,a):new o.Agent({keepAlive:!0,maxSockets:50,...a}),httpsAgent:c instanceof n.Agent||"function"==typeof c?.destroy?(this.externalAgent=!0,c):new n.Agent({keepAlive:!0,maxSockets:50,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:d,requestTimeout:h}={}){return this.config||(this.config=await this.configProvider),new Promise((g,m)=>{let p,f,T=this.config,A=[],w=async e=>{await p,A.forEach(a.timing.clearTimeout),g(e)},E=async e=>{await p,A.forEach(a.timing.clearTimeout),m(e)};if(d?.aborted){let e=Error("Request aborted");e.name="AbortError",E(e);return}let v="https:"===e.protocol,y=e.headers??{},k=(y.Expect??y.expect)==="100-continue",C=v?T.httpsAgent:T.httpAgent;k&&!this.externalAgent&&(C=new(v?n.Agent:o.Agent)({keepAlive:!1,maxSockets:1/0})),A.push(a.timing.setTimeout(()=>{this.socketWarningTimestamp=u.checkSocketUsage(C,this.socketWarningTimestamp,T.logger)},T.socketAcquisitionWarningTimeout??(T.requestTimeout??2e3)+(T.connectionTimeout??1e3)));let R=(0,r.buildQueryString)(e.query||{});if(null!=e.username||null!=e.password){let t=e.username??"",r=e.password??"";f=`${t}:${r}`}let S=e.path;R&&(S+=`?${R}`),e.fragment&&(S+=`#${e.fragment}`);let I=e.hostname??"";I="["===I[0]&&I.endsWith("]")?e.hostname.slice(1,-1):e.hostname;let N={headers:e.headers,host:I,method:e.method,path:S,port:e.port,agent:C,auth:f},b=(v?n.request:o.request)(N,e=>{w({response:new t.HttpResponse({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:(0,s.getTransformedHeaders)(e.headers),body:e})})});if(b.on("error",e=>{i.includes(e.code)?E(Object.assign(e,{name:"TimeoutError"})):E(e)}),d){let e=()=>{b.destroy();let e=Error("Request aborted");e.name="AbortError",E(e)};"function"==typeof d.addEventListener?(d.addEventListener("abort",e,{once:!0}),b.once("close",()=>d.removeEventListener("abort",e))):d.onabort=e}let q=h??T.requestTimeout;A.push(((e,t,r=0)=>{if(!r)return -1;let o=o=>{let n=a.timing.setTimeout(()=>{e.destroy(),t(Object.assign(Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-o),i=e=>{e?.connecting?e.on("connect",()=>{a.timing.clearTimeout(n)}):a.timing.clearTimeout(n)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(o(0),0):a.timing.setTimeout(o.bind(null,1e3),1e3)})(b,E,T.connectionTimeout)),A.push(((e,t,r=0,o,n)=>r?a.timing.setTimeout(()=>{let i=`@smithy/node-http-handler - [${o?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(o){let r=Object.assign(Error(i),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(r),t(r)}else i+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",n?.warn?.(i)},r):-1)(b,E,q,T.throwOnRequestTimeout,T.logger??console)),A.push(((e,t,r=0)=>{let o=o=>{let n=r-o,i=()=>{e.destroy(),t(Object.assign(Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(n,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(n,i)};return 0<r&&r<6e3?(o(0),0):a.timing.setTimeout(o.bind(null,3e3*(0!==r)),3e3)})(b,E,T.socketTimeout));let O=N.agent;"object"==typeof O&&"keepAlive"in O&&A.push(((e,{keepAlive:t,keepAliveMsecs:r},o=c)=>{if(!0!==t)return -1;let n=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",e=>{e.setKeepAlive(t,r||0)})};return 0===o?(n(),0):a.timing.setTimeout(n,o)})(b,{keepAlive:O.keepAlive,keepAliveMsecs:O.keepAliveMsecs})),p=(0,l.writeRequestBody)(b,e,q,this.externalAgent).catch(e=>(A.forEach(a.timing.clearTimeout),m(e)))})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[e]:t}))}httpHandlerConfigs(){return this.config??{}}}e.s(["NodeHttpHandler",()=>u],77080)},35942,e=>{"use strict";e.s([],73490),e.i(73490);var t=e.i(80849),r=e.i(77080),o=e.i(7401),n=e.i(24868),i=e.i(90409),s=e.i(49512),a=e.i(30426);async function c(e,t){let r=(0,a.sdkStreamMixin)(e.body),n=await r.transformToString();if(200===e.statusCode){let e=JSON.parse(n);if("string"!=typeof e.AccessKeyId||"string"!=typeof e.SecretAccessKey||"string"!=typeof e.Token||"string"!=typeof e.Expiration)throw new o.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:(0,s.parseRfc3339DateTime)(e.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let r={};try{r=JSON.parse(n)}catch(e){}throw Object.assign(new o.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:r.Code,Message:r.Message})}throw new o.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}e.s(["fromHttp",0,(e={})=>{let s,a,l,u;e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let d=e.awsContainerCredentialsRelativeUri??process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI,h=e.awsContainerCredentialsFullUri??process.env.AWS_CONTAINER_CREDENTIALS_FULL_URI,g=e.awsContainerAuthorizationToken??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN,m=e.awsContainerAuthorizationTokenFile??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE,p=e.logger?.constructor?.name!=="NoOpLogger"&&e.logger?.warn?e.logger.warn.bind(e.logger):console.warn;if(d&&h&&(p("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),p("awsContainerCredentialsFullUri will take precedence.")),g&&m&&(p("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),p("awsContainerAuthorizationToken will take precedence.")),h)s=h;else if(d)s=`http://169.254.170.2${d}`;else throw new o.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let f=new URL(s);((e,t)=>{if("https:"!==e.protocol&&"169.254.170.2"!==e.hostname&&"169.254.170.23"!==e.hostname&&"[fd00:ec2::23]"!==e.hostname){if(e.hostname.includes("[")){if("[::1]"===e.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===e.hostname)return}else{if("localhost"===e.hostname)return;let t=e.hostname.split("."),r=e=>{let t=parseInt(e,10);return 0<=t&&t<=255};if("127"===t[0]&&r(t[1])&&r(t[2])&&r(t[3])&&4===t.length)return}throw new o.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}})(f,e.logger);let T=r.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return a=async()=>{let r=new i.HttpRequest({protocol:f.protocol,hostname:f.hostname,port:Number(f.port),path:f.pathname,query:Array.from(f.searchParams.entries()).reduce((e,[t,r])=>(e[t]=r,e),{}),fragment:f.hash});g?r.headers.Authorization=g:m&&(r.headers.Authorization=(await n.default.readFile(m)).toString());try{let e=await T.handle(r);return c(e.response).then(e=>(0,t.setCredentialFeature)(e,"CREDENTIALS_HTTP","z"))}catch(t){throw new o.CredentialsProviderError(String(t),{logger:e.logger})}},l=e.maxRetries??3,u=e.timeout??1e3,async()=>{for(let e=0;e<l;++e)try{return await a()}catch(e){await new Promise(e=>setTimeout(e,u))}return await a()}}],35942)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__972ff848._.js.map