module.exports=[18622,(e,r,t)=>{r.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},70406,(e,r,t)=>{r.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},93695,(e,r,t)=>{r.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},98774,e=>{"use strict";var r=e.i(80849),t=e.i(7401);let n="AWS_ACCESS_KEY_ID",o="AWS_SECRET_ACCESS_KEY",s="AWS_SESSION_TOKEN",i="AWS_CREDENTIAL_EXPIRATION",a="AWS_CREDENTIAL_SCOPE",l="AWS_ACCOUNT_ID";e.s(["ENV_ACCOUNT_ID",0,l,"ENV_CREDENTIAL_SCOPE",0,a,"ENV_EXPIRATION",0,i,"ENV_KEY",0,n,"ENV_SECRET",0,o,"ENV_SESSION",0,s,"fromEnv",0,e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let d=process.env[n],c=process.env[o],u=process.env[s],p=process.env[i],h=process.env[a],v=process.env[l];if(d&&c){let e={accessKeyId:d,secretAccessKey:c,...u&&{sessionToken:u},...p&&{expiration:new Date(p)},...h&&{credentialScope:h},...v&&{accountId:v}};return(0,r.setCredentialFeature)(e,"CREDENTIALS_ENV_VARS","g"),e}throw new t.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})}])},50077,e=>{"use strict";var r=e.i(98774),t=e.i(7401),n=e.i(49871),o=e.i(34028);let s="AWS_EC2_METADATA_DISABLED",i=async r=>{let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:i,fromContainerMetadata:a,fromInstanceMetadata:l}=await e.A(52973);if(process.env[i]||process.env[n]){r.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:t}=await e.A(10247);return(0,o.chain)(t(r),a(r))}return process.env[s]&&"false"!==process.env[s]?async()=>{throw new t.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:r.logger})}:(r.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),l(r))},a=!1,l=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;e.s(["defaultProvider",0,(o={})=>{let s,d,c,u,p,h;return h=[async()=>{if(o.profile??process.env[n.ENV_PROFILE])throw process.env[r.ENV_KEY]&&process.env[r.ENV_SECRET]&&!a&&((o.logger?.warn&&o.logger?.constructor?.name!=="NoOpLogger"?o.logger.warn.bind(o.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),a=!0),new t.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:o.logger,tryNextLink:!0});return o.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,r.fromEnv)(o)()},async r=>{o.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:n,ssoAccountId:s,ssoRegion:i,ssoRoleName:a,ssoSession:l}=o;if(!n&&!s&&!i&&!a&&!l)throw new t.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:o.logger});let{fromSSO:d}=await e.A(14514);return d(o)(r)},async r=>{o.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await e.A(73799);return t(o)(r)},async r=>{o.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await e.A(54340);return t(o)(r)},async r=>{o.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await e.A(31643);return t(o)(r)},async()=>(o.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await i(o))()),async()=>{throw new t.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:o.logger})}],u=async e=>{let r;for(let t of h)try{return await t(e)}catch(e){if(r=e,e?.tryNextLink)continue;throw e}throw r},p=async e=>{if(e?.forceRefresh)return await u(e);if(c?.expiration&&c?.expiration?.getTime()<Date.now()&&(c=void 0),s)await s;else if(!c||l?.(c))if(!c)return s=u(e).then(e=>{c=e,s=void 0}),p(e);else d||(d=u(e).then(e=>{c=e,d=void 0}));return c}}],50077)},22734,(e,r,t)=>{r.exports=e.x("fs",()=>require("fs"))},98854,e=>{"use strict";var r=e.i(80416);let t=async e=>{let t=await (0,r.loadSharedConfigFiles)(e);return((...e)=>{let r={};for(let t of e)for(let[e,n]of Object.entries(t))void 0!==r[e]?Object.assign(r[e],n):r[e]=n;return r})(t.configFile,t.credentialsFile)};e.s(["parseKnownFiles",0,t],98854)},24868,(e,r,t)=>{r.exports=e.x("fs/promises",()=>require("fs/promises"))},95671,84896,e=>{"use strict";var r=e.i(24868),t=e.i(54799),n=e.i(14747),o=e.i(56729);let s=e=>{let r=(0,t.createHash)("sha1").update(e).digest("hex");return(0,n.join)((0,o.getHomeDir)(),".aws","sso","cache",`${r}.json`)};e.s(["getSSOTokenFilepath",0,s],84896);let i={},a=async e=>{if(i[e])return i[e];let t=s(e);return JSON.parse(await (0,r.readFile)(t,"utf8"))};e.s(["getSSOTokenFromFile",0,a,"tokenIntercept",0,i],95671)},35767,e=>{"use strict";var r=e.i(84511);class t extends r.ProviderError{name="TokenProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}e.s(["TokenProviderError",()=>t])},81752,e=>{"use strict";var r=e.i(56433),t=e.i(53008),n=e.i(46238);let o=e=>Object.entries(e).filter(([e])=>e.startsWith(t.IniSectionType.SSO_SESSION+n.CONFIG_PREFIX_SEPARATOR)).reduce((e,[r,t])=>({...e,[r.substring(r.indexOf(n.CONFIG_PREFIX_SEPARATOR)+1)]:t}),{});var s=e.i(74810),i=e.i(46334);let a=()=>({}),l=async(e={})=>(0,i.readFile)(e.configFilepath??(0,r.getConfigFilepath)()).then(s.parseIni).then(o).catch(a);e.s(["loadSsoSessionData",0,l],81752)},73253,e=>{"use strict";var r=e.i(35767),t=e.i(49871),n=e.i(95671),o=e.i(81752),s=e.i(98854);let i="To refresh this SSO session run 'aws sso login' with the corresponding profile.",a=async(r,t={},n)=>{let{SSOOIDCClient:o}=await e.A(49465),s=e=>t.clientConfig?.[e]??t.parentClientConfig?.[e]??n?.[e];return new o(Object.assign({},t.clientConfig??{},{region:r??t.clientConfig?.region,logger:s("logger"),userAgentAppId:s("userAgentAppId")}))},l=async(r,t,n={},o)=>{let{CreateTokenCommand:s}=await e.A(49465);return(await a(t,n,o)).send(new s({clientId:r.clientId,clientSecret:r.clientSecret,refreshToken:r.refreshToken,grantType:"refresh_token"}))},d=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new r.TokenProviderError(`Token is expired. ${i}`,!1)},c=(e,t,n=!1)=>{if(void 0===t)throw new r.TokenProviderError(`Value not present for '${e}' in SSO Token${n?". Cannot refresh":""}. ${i}`,!1)};var u=e.i(84896);let{writeFile:p}=e.i(22734).promises,h=new Date(0);e.s(["fromSso",0,(e={})=>async({callerClientConfig:a}={})=>{let v;e.logger?.debug("@aws-sdk/token-providers - fromSso");let f=await (0,s.parseKnownFiles)(e),g=(0,t.getProfileName)({profile:e.profile??a?.profile}),w=f[g];if(w){if(!w.sso_session)throw new r.TokenProviderError(`Profile '${g}' is missing required property 'sso_session'.`)}else throw new r.TokenProviderError(`Profile '${g}' could not be found in shared credentials file.`,!1);let E=w.sso_session,m=(await (0,o.loadSsoSessionData)(e))[E];if(!m)throw new r.TokenProviderError(`Sso session '${E}' could not be found in shared credentials file.`,!1);for(let e of["sso_start_url","sso_region"])if(!m[e])throw new r.TokenProviderError(`Sso session '${E}' is missing required property '${e}'.`,!1);m.sso_start_url;let S=m.sso_region;try{v=await (0,n.getSSOTokenFromFile)(E)}catch(e){throw new r.TokenProviderError(`The SSO session token associated with profile=${g} was not found or is invalid. ${i}`,!1)}c("accessToken",v.accessToken),c("expiresAt",v.expiresAt);let{accessToken:_,expiresAt:T}=v,x={token:_,expiration:new Date(T)};if(x.expiration.getTime()-Date.now()>3e5)return x;if(Date.now()-h.getTime()<3e4)return d(x),x;c("clientId",v.clientId,!0),c("clientSecret",v.clientSecret,!0),c("refreshToken",v.refreshToken,!0);try{h.setTime(Date.now());let r=await l(v,S,e,a);c("accessToken",r.accessToken),c("expiresIn",r.expiresIn);let t=new Date(Date.now()+1e3*r.expiresIn);try{var A;let e;await (A={...v,accessToken:r.accessToken,expiresAt:t.toISOString(),refreshToken:r.refreshToken},e=(0,u.getSSOTokenFilepath)(E),p(e,JSON.stringify(A,null,2)))}catch(e){}return{token:r.accessToken,expiration:t}}catch(e){return d(x),x}}],73253)},67853,e=>{"use strict";var r=e.i(67783),t=e.i(63647),n=e.i(97110),o=e.i(98653),s=e.i(54059),i=e.i(20794),a=e.i(22463),l=e.i(60518),d=e.i(18720),c=e.i(35797),u=e.i(27382),p=e.i(5717),h=e.i(42771),v=e.i(19185),f=e.i(39232),g=e.i(93695);e.i(88359);var w=e.i(86082),E=e.i(6797);async function m(e){try{let{analysis:r}=await e.json(),t=`당신은 20년차 소프트웨어 아키텍트이자 AI Agent 전문가 그리고 P.A.T.H (Problem-Agent-Technical-Handoff) 프레임워크를 개발한 전문가입니다.`,n=`다음 분석 결과를 바탕으로 프로토타입 구현을 위한 명세서를 작성하세요:

${JSON.stringify(r,null,2)}

다음 5개 섹션만 작성하세요:

# AI Agent Design Specification

## 1. Executive Summary
- **Problem**: 해결하려는 문제 (1-2문장)
- **Solution**: 선택된 패턴과 접근 방법
- **Feasibility Score**: X/50 (판정)
- **Go/No-Go**: 추천 사항

## 2. Problem Decomposition
### INPUT
- 트리거 타입과 상세 설명
- 데이터 소스

### PROCESS
- 각 단계별 상세 설명 (번호 매겨서)

### OUTPUT
- 결과물 타입과 형식
- 전달 방법

### Human-in-Loop
- 사람 개입 시점과 방법

## 3. Architecture

### 3.1 System Architecture
\`\`\`mermaid
graph TB
    [전체 시스템 구조]
\`\`\`

### 3.2 Sequence Diagram
\`\`\`mermaid
sequenceDiagram
    [컴포넌트 간 상호작용]
\`\`\`

### 3.3 Flow Chart
\`\`\`mermaid
flowchart TD
    [처리 흐름]
\`\`\`

## 4. Agent Components

선택된 패턴에 맞게 작성하세요:

| Agent Name | Role | Input | Output | LLM | Tools |
|------------|------|-------|--------|-----|-------|

## 5. Technical Stack
- **Framework**:
    - 이유: 
- **LLM**: 
    - 용도: 
    - 이유: 

---

**중요1**: 위 5개 섹션만 작성하세요.
**중요2**: LLM은 Claude Opus 4.5, Sonnet 4.5, Haiku 4.5 중에서만 선택하세요.
**중요3**: Framework는 Strands SDK를 사용하세요.`,o=new TextEncoder,s=new ReadableStream({async start(e){try{for await(let r of(0,E.invokeClaudeStream)(n,t))e.enqueue(o.encode(`data: ${JSON.stringify({text:r})}

`));e.enqueue(o.encode("data: [DONE]\n\n")),e.close()}catch(r){console.error("Error in spec stream:",r),e.error(r)}}});return new Response(s,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})}catch(e){return console.error("Error in spec API:",e),new Response(JSON.stringify({error:"명세서 생성 중 오류가 발생했습니다",details:e.message}),{status:500,headers:{"Content-Type":"application/json"}})}}e.s(["POST",()=>m,"maxDuration",0,60],83951);var S=e.i(83951);let _=new r.AppRouteRouteModule({definition:{kind:t.RouteKind.APP_ROUTE,page:"/api/bedrock/spec/route",pathname:"/api/bedrock/spec",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/path/path-web/app/api/bedrock/spec/route.ts",nextConfigOutput:"",userland:S}),{workAsyncStorage:T,workUnitAsyncStorage:x,serverHooks:A}=_;function k(){return(0,n.patchFetch)({workAsyncStorage:T,workUnitAsyncStorage:x})}async function C(e,r,n){_.isDev&&(0,o.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let E="/api/bedrock/spec/route";E=E.replace(/\/index$/,"")||"/";let m=await _.prepare(e,r,{srcPage:E,multiZoneDraftMode:!1});if(!m)return r.statusCode=400,r.end("Bad Request"),null==n.waitUntil||n.waitUntil.call(n,Promise.resolve()),null;let{buildId:S,params:T,nextConfig:x,parsedUrl:A,isDraftMode:k,prerenderManifest:C,routerServerContext:R,isOnDemandRevalidate:P,revalidateOnlyGenerated:y,resolvedPathname:O,clientReferenceManifest:b,serverActionsManifest:N}=m,I=(0,a.normalizeAppPath)(E),D=!!(C.dynamicRoutes[I]||C.routes[O]),F=async()=>((null==R?void 0:R.render404)?await R.render404(e,r,A,!1):r.end("This page could not be found"),null);if(D&&!k){let e=!!C.routes[O],r=C.dynamicRoutes[I];if(r&&!1===r.fallback&&!e){if(x.experimental.adapterPath)return await F();throw new g.NoFallbackError}}let j=null;!D||_.isDev||k||(j="/index"===(j=O)?"/":j);let q=!0===_.isDev||!D,L=D&&!q;N&&b&&(0,i.setManifestsSingleton)({page:E,clientReferenceManifest:b,serverActionsManifest:N});let H=e.method||"GET",$=(0,s.getTracer)(),U=$.getActiveScopeSpan(),K={params:T,prerenderManifest:C,renderOpts:{experimental:{authInterrupts:!!x.experimental.authInterrupts},cacheComponents:!!x.cacheComponents,supportsDynamicResponse:q,incrementalCache:(0,o.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:x.cacheLife,waitUntil:n.waitUntil,onClose:e=>{r.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(r,t,n,o)=>_.onRequestError(e,r,n,o,R)},sharedContext:{buildId:S}},M=new l.NodeNextRequest(e),W=new l.NodeNextResponse(r),V=d.NextRequestAdapter.fromNodeNextRequest(M,(0,d.signalFromNodeResponse)(r));try{let i=async e=>_.handle(V,K).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":r.statusCode,"next.rsc":!1});let t=$.getRootSpanAttributes();if(!t)return;if(t.get("next.span_type")!==c.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${t.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=t.get("next.route");if(n){let r=`${H} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":r}),e.updateName(r)}else e.updateName(`${H} ${E}`)}),a=!!(0,o.getRequestMeta)(e,"minimalMode"),l=async o=>{var s,l;let d=async({previousCacheEntry:t})=>{try{if(!a&&P&&y&&!t)return r.statusCode=404,r.setHeader("x-nextjs-cache","REVALIDATED"),r.end("This page could not be found"),null;let s=await i(o);e.fetchMetrics=K.renderOpts.fetchMetrics;let l=K.renderOpts.pendingWaitUntil;l&&n.waitUntil&&(n.waitUntil(l),l=void 0);let d=K.renderOpts.collectedTags;if(!D)return await (0,p.sendResponse)(M,W,s,K.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),r=(0,h.toNodeOutgoingHttpHeaders)(s.headers);d&&(r[f.NEXT_CACHE_TAGS_HEADER]=d),!r["content-type"]&&e.type&&(r["content-type"]=e.type);let t=void 0!==K.renderOpts.collectedRevalidate&&!(K.renderOpts.collectedRevalidate>=f.INFINITE_CACHE)&&K.renderOpts.collectedRevalidate,n=void 0===K.renderOpts.collectedExpire||K.renderOpts.collectedExpire>=f.INFINITE_CACHE?void 0:K.renderOpts.collectedExpire;return{value:{kind:w.CachedRouteKind.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:r},cacheControl:{revalidate:t,expire:n}}}}catch(r){throw(null==t?void 0:t.isStale)&&await _.onRequestError(e,r,{routerKind:"App Router",routePath:E,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:L,isOnDemandRevalidate:P})},!1,R),r}},c=await _.handleResponse({req:e,nextConfig:x,cacheKey:j,routeKind:t.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:C,isRoutePPREnabled:!1,isOnDemandRevalidate:P,revalidateOnlyGenerated:y,responseGenerator:d,waitUntil:n.waitUntil,isMinimalMode:a});if(!D)return null;if((null==c||null==(s=c.value)?void 0:s.kind)!==w.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==c||null==(l=c.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});a||r.setHeader("x-nextjs-cache",P?"REVALIDATED":c.isMiss?"MISS":c.isStale?"STALE":"HIT"),k&&r.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let g=(0,h.fromNodeOutgoingHttpHeaders)(c.value.headers);return a&&D||g.delete(f.NEXT_CACHE_TAGS_HEADER),!c.cacheControl||r.getHeader("Cache-Control")||g.get("Cache-Control")||g.set("Cache-Control",(0,v.getCacheControlHeader)(c.cacheControl)),await (0,p.sendResponse)(M,W,new Response(c.value.body,{headers:g,status:c.value.status||200})),null};U?await l(U):await $.withPropagatedContext(e.headers,()=>$.trace(c.BaseServerSpan.handleRequest,{spanName:`${H} ${E}`,kind:s.SpanKind.SERVER,attributes:{"http.method":H,"http.target":e.url}},l))}catch(r){if(r instanceof g.NoFallbackError||await _.onRequestError(e,r,{routerKind:"App Router",routePath:I,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:L,isOnDemandRevalidate:P})},!1,R),D)throw r;return await (0,p.sendResponse)(M,W,new Response(null,{status:500})),null}}e.s(["handler",()=>C,"patchFetch",()=>k,"routeModule",()=>_,"serverHooks",()=>A,"workAsyncStorage",()=>T,"workUnitAsyncStorage",()=>x],67853)},5389,e=>{e.v(r=>Promise.all(["server/chunks/[externals]_node:async_hooks_b485b2a4._.js"].map(r=>e.l(r))).then(()=>r(78500)))},52973,e=>{e.v(r=>Promise.all(["server/chunks/[root-of-the-server]__19e5bbe9._.js"].map(r=>e.l(r))).then(()=>r(34332)))},10247,e=>{e.v(r=>Promise.all(["server/chunks/[root-of-the-server]__972ff848._.js"].map(r=>e.l(r))).then(()=>r(35942)))},14514,e=>{e.v(r=>Promise.all(["server/chunks/03239_@aws-sdk_credential-provider-sso_dist-es_aa029432._.js"].map(r=>e.l(r))).then(()=>r(19961)))},73799,e=>{e.v(r=>Promise.all(["server/chunks/[root-of-the-server]__96108d9b._.js"].map(r=>e.l(r))).then(()=>r(88625)))},54340,e=>{e.v(r=>Promise.all(["server/chunks/[root-of-the-server]__56cd8f1c._.js"].map(r=>e.l(r))).then(()=>r(21009)))},31643,e=>{e.v(r=>Promise.all(["server/chunks/03239_5ef2bc22._.js"].map(r=>e.l(r))).then(()=>r(41425)))},49465,e=>{e.v(r=>Promise.all(["server/chunks/[root-of-the-server]__e2eabf5f._.js","server/chunks/03239_@aws-sdk_nested-clients_dist-es_submodules_sso-oidc_index_6687fe05.js"].map(r=>e.l(r))).then(()=>r(95469)))},69902,e=>{e.v(r=>Promise.all(["server/chunks/03239_@smithy_core_dist-es_submodules_event-streams_index_cf2ca7be.js"].map(r=>e.l(r))).then(()=>r(31737)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__dfbe68e2._.js.map