module.exports=[581517,e=>{"use strict";var t=e.i(404448),s=e.i(690409),i=e.i(847880),o=e.i(44797);class n extends o.HttpProtocol{async serializeRequest(e,i,o){let n,r=this.serializer,d={},a={},l=await o.endpoint(),c=t.NormalizedSchema.of(e?.input),u=c.getSchema(),m=new s.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:d,headers:a,body:void 0});l&&(this.updateServiceEndpoint(m,l),this.setHostPrefix(m,e,i));let h={...i};if(i){let e=c.getEventStreamMember();if(e){if(h[e]){let t={};for(let[s,i]of c.structIterator())s!==e&&h[s]&&(r.write(i,h[s]),t[s]=r.flush());n=await this.serializeEventStream({eventStream:h[e],requestSchema:c,initialRequest:t})}}else r.write(u,h),n=r.flush()}return m.headers=a,m.query=d,m.body=n,m.method="POST",m}async deserializeResponse(e,s,o){let n=this.deserializer,r=t.NormalizedSchema.of(e.output),d={};if(o.statusCode>=300){let t=await (0,i.collectBody)(o.body,s);throw t.byteLength>0&&Object.assign(d,await n.read(15,t)),await this.handleError(e,s,o,d,this.deserializeMetadata(o)),Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let e in o.headers){let t=o.headers[e];delete o.headers[e],o.headers[e.toLowerCase()]=t}let a=r.getEventStreamMember();if(a)d[a]=await this.deserializeEventStream({response:o,responseSchema:r,initialResponseContainer:d});else{let e=await (0,i.collectBody)(o.body,s);e.byteLength>0&&Object.assign(d,await n.read(r,e))}return d.$metadata=this.deserializeMetadata(o),d}}e.s(["RpcProtocol",()=>n])},921517,(e,t,s)=>{t.exports=e.x("http",()=>require("http"))},524836,(e,t,s)=>{t.exports=e.x("https",()=>require("https"))},477080,e=>{"use strict";var t=e.i(460663),s=e.i(572483),i=e.i(921517),o=e.i(524836);let n=["ECONNRESET","EPIPE","ETIMEDOUT"];var r=e.i(631781),d=e.i(599906);let a=3e3;var l=e.i(237071);class c{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return"function"==typeof e?.handle?e:new c(e)}static checkSocketUsage(e,t,s=console){let{sockets:i,requests:o,maxSockets:n}=e;if("number"!=typeof n||n===1/0||Date.now()-15e3<t)return t;if(i&&o)for(let e in i){let t=i[e]?.length??0,r=o[e]?.length??0;if(t>=n&&r>=2*n)return s?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${t} and ${r} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(e){this.configProvider=new Promise((t,s)=>{"function"==typeof e?e().then(e=>{t(this.resolveDefaultConfig(e))}).catch(s):t(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:t,connectionTimeout:s,socketTimeout:n,socketAcquisitionWarningTimeout:r,httpAgent:d,httpsAgent:a,throwOnRequestTimeout:l}=e||{};return{connectionTimeout:s,requestTimeout:t,socketTimeout:n,socketAcquisitionWarningTimeout:r,throwOnRequestTimeout:l,httpAgent:d instanceof i.Agent||"function"==typeof d?.destroy?(this.externalAgent=!0,d):new i.Agent({keepAlive:!0,maxSockets:50,...d}),httpsAgent:a instanceof o.Agent||"function"==typeof a?.destroy?(this.externalAgent=!0,a):new o.Agent({keepAlive:!0,maxSockets:50,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:u,requestTimeout:m}={}){return this.config||(this.config=await this.configProvider),new Promise((h,p)=>{let g,y,f=this.config,w=[],b=async e=>{await g,w.forEach(d.timing.clearTimeout),h(e)},v=async e=>{await g,w.forEach(d.timing.clearTimeout),p(e)};if(u?.aborted){let e=Error("Request aborted");e.name="AbortError",v(e);return}let k="https:"===e.protocol,j=e.headers??{},x=(j.Expect??j.expect)==="100-continue",A=k?f.httpsAgent:f.httpAgent;x&&!this.externalAgent&&(A=new(k?o.Agent:i.Agent)({keepAlive:!1,maxSockets:1/0})),w.push(d.timing.setTimeout(()=>{this.socketWarningTimestamp=c.checkSocketUsage(A,this.socketWarningTimestamp,f.logger)},f.socketAcquisitionWarningTimeout??(f.requestTimeout??2e3)+(f.connectionTimeout??1e3)));let E=(0,s.buildQueryString)(e.query||{});if(null!=e.username||null!=e.password){let t=e.username??"",s=e.password??"";y=`${t}:${s}`}let T=e.path;E&&(T+=`?${E}`),e.fragment&&(T+=`#${e.fragment}`);let q=e.hostname??"";q="["===q[0]&&q.endsWith("]")?e.hostname.slice(1,-1):e.hostname;let S={headers:e.headers,host:q,method:e.method,path:T,port:e.port,agent:A,auth:y},C=(k?o.request:i.request)(S,e=>{b({response:new t.HttpResponse({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:(0,r.getTransformedHeaders)(e.headers),body:e})})});if(C.on("error",e=>{n.includes(e.code)?v(Object.assign(e,{name:"TimeoutError"})):v(e)}),u){let e=()=>{C.destroy();let e=Error("Request aborted");e.name="AbortError",v(e)};"function"==typeof u.addEventListener?(u.addEventListener("abort",e,{once:!0}),C.once("close",()=>u.removeEventListener("abort",e))):u.onabort=e}let R=m??f.requestTimeout;w.push(((e,t,s=0)=>{if(!s)return -1;let i=i=>{let o=d.timing.setTimeout(()=>{e.destroy(),t(Object.assign(Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${s} ms.`),{name:"TimeoutError"}))},s-i),n=e=>{e?.connecting?e.on("connect",()=>{d.timing.clearTimeout(o)}):d.timing.clearTimeout(o)};e.socket?n(e.socket):e.on("socket",n)};return s<2e3?(i(0),0):d.timing.setTimeout(i.bind(null,1e3),1e3)})(C,v,f.connectionTimeout)),w.push(((e,t,s=0,i,o)=>s?d.timing.setTimeout(()=>{let n=`@smithy/node-http-handler - [${i?"ERROR":"WARN"}] a request has exceeded the configured ${s} ms requestTimeout.`;if(i){let s=Object.assign(Error(n),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(s),t(s)}else n+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(n)},s):-1)(C,v,R,f.throwOnRequestTimeout,f.logger??console)),w.push(((e,t,s=0)=>{let i=i=>{let o=s-i,n=()=>{e.destroy(),t(Object.assign(Error(`@smithy/node-http-handler - the request socket timed out after ${s} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,n),e.on("close",()=>e.socket?.removeListener("timeout",n))):e.setTimeout(o,n)};return 0<s&&s<6e3?(i(0),0):d.timing.setTimeout(i.bind(null,3e3*(0!==s)),3e3)})(C,v,f.socketTimeout));let P=S.agent;"object"==typeof P&&"keepAlive"in P&&w.push(((e,{keepAlive:t,keepAliveMsecs:s},i=a)=>{if(!0!==t)return -1;let o=()=>{e.socket?e.socket.setKeepAlive(t,s||0):e.on("socket",e=>{e.setKeepAlive(t,s||0)})};return 0===i?(o(),0):d.timing.setTimeout(o,i)})(C,{keepAlive:P.keepAlive,keepAliveMsecs:P.keepAliveMsecs})),g=(0,l.writeRequestBody)(C,e,R,this.externalAgent).catch(e=>(w.forEach(d.timing.clearTimeout),p(e)))})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(s=>({...s,[e]:t}))}httpHandlerConfigs(){return this.config??{}}}e.s(["NodeHttpHandler",()=>c],477080)},287573,e=>{"use strict";class t{async sign(e,t,s){return e}}e.s(["NoAuthSigner",()=>t])},910958,e=>{e.v({name:"@aws-sdk/nested-clients",version:"3.955.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.954.0","@aws-sdk/middleware-host-header":"3.953.0","@aws-sdk/middleware-logger":"3.953.0","@aws-sdk/middleware-recursion-detection":"3.953.0","@aws-sdk/middleware-user-agent":"3.954.0","@aws-sdk/region-config-resolver":"3.953.0","@aws-sdk/types":"3.953.0","@aws-sdk/util-endpoints":"3.953.0","@aws-sdk/util-user-agent-browser":"3.953.0","@aws-sdk/util-user-agent-node":"3.954.0","@smithy/config-resolver":"^4.4.4","@smithy/core":"^3.19.0","@smithy/fetch-http-handler":"^5.3.7","@smithy/hash-node":"^4.2.6","@smithy/invalid-dependency":"^4.2.6","@smithy/middleware-content-length":"^4.2.6","@smithy/middleware-endpoint":"^4.4.0","@smithy/middleware-retry":"^4.4.16","@smithy/middleware-serde":"^4.2.7","@smithy/middleware-stack":"^4.2.6","@smithy/node-config-provider":"^4.3.6","@smithy/node-http-handler":"^4.4.6","@smithy/protocol-http":"^5.3.6","@smithy/smithy-client":"^4.10.1","@smithy/types":"^4.10.0","@smithy/url-parser":"^4.2.6","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.15","@smithy/util-defaults-mode-node":"^4.2.18","@smithy/util-endpoints":"^3.2.6","@smithy/util-middleware":"^4.2.6","@smithy/util-retry":"^4.2.6","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}})},461805,e=>{"use strict";e.s(["createAggregatedClient",0,(e,t)=>{for(let s of Object.keys(e)){let i=e[s],o=async function(e,t,s){let o=new i(e);if("function"==typeof t)this.send(o,t);else{if("function"!=typeof s)return this.send(o,t);if("object"!=typeof t)throw Error(`Expected http options but got ${typeof t}`);this.send(o,t||{},s)}},n=(s[0].toLowerCase()+s.slice(1)).replace(/Command$/,"");t.prototype[n]=o}}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6bd37a6f._.js.map