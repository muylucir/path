{"version":3,"sources":["../../../../../path/path-web/node_modules/%40smithy/node-http-handler/dist-es/node-http-handler.js","../../../../../path/path-web/node_modules/%40smithy/node-http-handler/dist-es/constants.js","../../../../../path/path-web/node_modules/%40smithy/node-http-handler/dist-es/set-connection-timeout.js","../../../../../path/path-web/node_modules/%40smithy/node-http-handler/dist-es/set-request-timeout.js","../../../../../path/path-web/node_modules/%40smithy/node-http-handler/dist-es/set-socket-keep-alive.js","../../../../../path/path-web/node_modules/%40smithy/node-http-handler/dist-es/set-socket-timeout.js","../../../../../path/path-web/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/fromHttp.js","../../../../../path/path-web/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/checkUrl.js","../../../../../path/path-web/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/requestHelpers.js","../../../../../path/path-web/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/retry-wrapper.js"],"sourcesContent":["import { HttpResponse } from \"@smithy/protocol-http\";\nimport { buildQueryString } from \"@smithy/querystring-builder\";\nimport { Agent as hAgent, request as hRequest } from \"http\";\nimport { Agent as hsAgent, request as hsRequest } from \"https\";\nimport { NODEJS_TIMEOUT_ERROR_CODES } from \"./constants\";\nimport { getTransformedHeaders } from \"./get-transformed-headers\";\nimport { setConnectionTimeout } from \"./set-connection-timeout\";\nimport { setRequestTimeout } from \"./set-request-timeout\";\nimport { setSocketKeepAlive } from \"./set-socket-keep-alive\";\nimport { setSocketTimeout } from \"./set-socket-timeout\";\nimport { timing } from \"./timing\";\nimport { writeRequestBody } from \"./write-request-body\";\nexport const DEFAULT_REQUEST_TIMEOUT = 0;\nexport class NodeHttpHandler {\n    config;\n    configProvider;\n    socketWarningTimestamp = 0;\n    externalAgent = false;\n    metadata = { handlerProtocol: \"http/1.1\" };\n    static create(instanceOrOptions) {\n        if (typeof instanceOrOptions?.handle === \"function\") {\n            return instanceOrOptions;\n        }\n        return new NodeHttpHandler(instanceOrOptions);\n    }\n    static checkSocketUsage(agent, socketWarningTimestamp, logger = console) {\n        const { sockets, requests, maxSockets } = agent;\n        if (typeof maxSockets !== \"number\" || maxSockets === Infinity) {\n            return socketWarningTimestamp;\n        }\n        const interval = 15_000;\n        if (Date.now() - interval < socketWarningTimestamp) {\n            return socketWarningTimestamp;\n        }\n        if (sockets && requests) {\n            for (const origin in sockets) {\n                const socketsInUse = sockets[origin]?.length ?? 0;\n                const requestsEnqueued = requests[origin]?.length ?? 0;\n                if (socketsInUse >= maxSockets && requestsEnqueued >= 2 * maxSockets) {\n                    logger?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${socketsInUse} and ${requestsEnqueued} additional requests are enqueued.\nSee https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html\nor increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`);\n                    return Date.now();\n                }\n            }\n        }\n        return socketWarningTimestamp;\n    }\n    constructor(options) {\n        this.configProvider = new Promise((resolve, reject) => {\n            if (typeof options === \"function\") {\n                options()\n                    .then((_options) => {\n                    resolve(this.resolveDefaultConfig(_options));\n                })\n                    .catch(reject);\n            }\n            else {\n                resolve(this.resolveDefaultConfig(options));\n            }\n        });\n    }\n    resolveDefaultConfig(options) {\n        const { requestTimeout, connectionTimeout, socketTimeout, socketAcquisitionWarningTimeout, httpAgent, httpsAgent, throwOnRequestTimeout, } = options || {};\n        const keepAlive = true;\n        const maxSockets = 50;\n        return {\n            connectionTimeout,\n            requestTimeout,\n            socketTimeout,\n            socketAcquisitionWarningTimeout,\n            throwOnRequestTimeout,\n            httpAgent: (() => {\n                if (httpAgent instanceof hAgent || typeof httpAgent?.destroy === \"function\") {\n                    this.externalAgent = true;\n                    return httpAgent;\n                }\n                return new hAgent({ keepAlive, maxSockets, ...httpAgent });\n            })(),\n            httpsAgent: (() => {\n                if (httpsAgent instanceof hsAgent || typeof httpsAgent?.destroy === \"function\") {\n                    this.externalAgent = true;\n                    return httpsAgent;\n                }\n                return new hsAgent({ keepAlive, maxSockets, ...httpsAgent });\n            })(),\n            logger: console,\n        };\n    }\n    destroy() {\n        this.config?.httpAgent?.destroy();\n        this.config?.httpsAgent?.destroy();\n    }\n    async handle(request, { abortSignal, requestTimeout } = {}) {\n        if (!this.config) {\n            this.config = await this.configProvider;\n        }\n        return new Promise((_resolve, _reject) => {\n            const config = this.config;\n            let writeRequestBodyPromise = undefined;\n            const timeouts = [];\n            const resolve = async (arg) => {\n                await writeRequestBodyPromise;\n                timeouts.forEach(timing.clearTimeout);\n                _resolve(arg);\n            };\n            const reject = async (arg) => {\n                await writeRequestBodyPromise;\n                timeouts.forEach(timing.clearTimeout);\n                _reject(arg);\n            };\n            if (abortSignal?.aborted) {\n                const abortError = new Error(\"Request aborted\");\n                abortError.name = \"AbortError\";\n                reject(abortError);\n                return;\n            }\n            const isSSL = request.protocol === \"https:\";\n            const headers = request.headers ?? {};\n            const expectContinue = (headers.Expect ?? headers.expect) === \"100-continue\";\n            let agent = isSSL ? config.httpsAgent : config.httpAgent;\n            if (expectContinue && !this.externalAgent) {\n                agent = new (isSSL ? hsAgent : hAgent)({\n                    keepAlive: false,\n                    maxSockets: Infinity,\n                });\n            }\n            timeouts.push(timing.setTimeout(() => {\n                this.socketWarningTimestamp = NodeHttpHandler.checkSocketUsage(agent, this.socketWarningTimestamp, config.logger);\n            }, config.socketAcquisitionWarningTimeout ?? (config.requestTimeout ?? 2000) + (config.connectionTimeout ?? 1000)));\n            const queryString = buildQueryString(request.query || {});\n            let auth = undefined;\n            if (request.username != null || request.password != null) {\n                const username = request.username ?? \"\";\n                const password = request.password ?? \"\";\n                auth = `${username}:${password}`;\n            }\n            let path = request.path;\n            if (queryString) {\n                path += `?${queryString}`;\n            }\n            if (request.fragment) {\n                path += `#${request.fragment}`;\n            }\n            let hostname = request.hostname ?? \"\";\n            if (hostname[0] === \"[\" && hostname.endsWith(\"]\")) {\n                hostname = request.hostname.slice(1, -1);\n            }\n            else {\n                hostname = request.hostname;\n            }\n            const nodeHttpsOptions = {\n                headers: request.headers,\n                host: hostname,\n                method: request.method,\n                path,\n                port: request.port,\n                agent,\n                auth,\n            };\n            const requestFunc = isSSL ? hsRequest : hRequest;\n            const req = requestFunc(nodeHttpsOptions, (res) => {\n                const httpResponse = new HttpResponse({\n                    statusCode: res.statusCode || -1,\n                    reason: res.statusMessage,\n                    headers: getTransformedHeaders(res.headers),\n                    body: res,\n                });\n                resolve({ response: httpResponse });\n            });\n            req.on(\"error\", (err) => {\n                if (NODEJS_TIMEOUT_ERROR_CODES.includes(err.code)) {\n                    reject(Object.assign(err, { name: \"TimeoutError\" }));\n                }\n                else {\n                    reject(err);\n                }\n            });\n            if (abortSignal) {\n                const onAbort = () => {\n                    req.destroy();\n                    const abortError = new Error(\"Request aborted\");\n                    abortError.name = \"AbortError\";\n                    reject(abortError);\n                };\n                if (typeof abortSignal.addEventListener === \"function\") {\n                    const signal = abortSignal;\n                    signal.addEventListener(\"abort\", onAbort, { once: true });\n                    req.once(\"close\", () => signal.removeEventListener(\"abort\", onAbort));\n                }\n                else {\n                    abortSignal.onabort = onAbort;\n                }\n            }\n            const effectiveRequestTimeout = requestTimeout ?? config.requestTimeout;\n            timeouts.push(setConnectionTimeout(req, reject, config.connectionTimeout));\n            timeouts.push(setRequestTimeout(req, reject, effectiveRequestTimeout, config.throwOnRequestTimeout, config.logger ?? console));\n            timeouts.push(setSocketTimeout(req, reject, config.socketTimeout));\n            const httpAgent = nodeHttpsOptions.agent;\n            if (typeof httpAgent === \"object\" && \"keepAlive\" in httpAgent) {\n                timeouts.push(setSocketKeepAlive(req, {\n                    keepAlive: httpAgent.keepAlive,\n                    keepAliveMsecs: httpAgent.keepAliveMsecs,\n                }));\n            }\n            writeRequestBodyPromise = writeRequestBody(req, request, effectiveRequestTimeout, this.externalAgent).catch((e) => {\n                timeouts.forEach(timing.clearTimeout);\n                return _reject(e);\n            });\n        });\n    }\n    updateHttpClientConfig(key, value) {\n        this.config = undefined;\n        this.configProvider = this.configProvider.then((config) => {\n            return {\n                ...config,\n                [key]: value,\n            };\n        });\n    }\n    httpHandlerConfigs() {\n        return this.config ?? {};\n    }\n}\n","export const NODEJS_TIMEOUT_ERROR_CODES = [\"ECONNRESET\", \"EPIPE\", \"ETIMEDOUT\"];\n","import { timing } from \"./timing\";\nconst DEFER_EVENT_LISTENER_TIME = 1000;\nexport const setConnectionTimeout = (request, reject, timeoutInMs = 0) => {\n    if (!timeoutInMs) {\n        return -1;\n    }\n    const registerTimeout = (offset) => {\n        const timeoutId = timing.setTimeout(() => {\n            request.destroy();\n            reject(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${timeoutInMs} ms.`), {\n                name: \"TimeoutError\",\n            }));\n        }, timeoutInMs - offset);\n        const doWithSocket = (socket) => {\n            if (socket?.connecting) {\n                socket.on(\"connect\", () => {\n                    timing.clearTimeout(timeoutId);\n                });\n            }\n            else {\n                timing.clearTimeout(timeoutId);\n            }\n        };\n        if (request.socket) {\n            doWithSocket(request.socket);\n        }\n        else {\n            request.on(\"socket\", doWithSocket);\n        }\n    };\n    if (timeoutInMs < 2000) {\n        registerTimeout(0);\n        return 0;\n    }\n    return timing.setTimeout(registerTimeout.bind(null, DEFER_EVENT_LISTENER_TIME), DEFER_EVENT_LISTENER_TIME);\n};\n","import { timing } from \"./timing\";\nexport const setRequestTimeout = (req, reject, timeoutInMs = 0, throwOnRequestTimeout, logger) => {\n    if (timeoutInMs) {\n        return timing.setTimeout(() => {\n            let msg = `@smithy/node-http-handler - [${throwOnRequestTimeout ? \"ERROR\" : \"WARN\"}] a request has exceeded the configured ${timeoutInMs} ms requestTimeout.`;\n            if (throwOnRequestTimeout) {\n                const error = Object.assign(new Error(msg), {\n                    name: \"TimeoutError\",\n                    code: \"ETIMEDOUT\",\n                });\n                req.destroy(error);\n                reject(error);\n            }\n            else {\n                msg += ` Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.`;\n                logger?.warn?.(msg);\n            }\n        }, timeoutInMs);\n    }\n    return -1;\n};\n","import { timing } from \"./timing\";\nconst DEFER_EVENT_LISTENER_TIME = 3000;\nexport const setSocketKeepAlive = (request, { keepAlive, keepAliveMsecs }, deferTimeMs = DEFER_EVENT_LISTENER_TIME) => {\n    if (keepAlive !== true) {\n        return -1;\n    }\n    const registerListener = () => {\n        if (request.socket) {\n            request.socket.setKeepAlive(keepAlive, keepAliveMsecs || 0);\n        }\n        else {\n            request.on(\"socket\", (socket) => {\n                socket.setKeepAlive(keepAlive, keepAliveMsecs || 0);\n            });\n        }\n    };\n    if (deferTimeMs === 0) {\n        registerListener();\n        return 0;\n    }\n    return timing.setTimeout(registerListener, deferTimeMs);\n};\n","import { timing } from \"./timing\";\nconst DEFER_EVENT_LISTENER_TIME = 3000;\nexport const setSocketTimeout = (request, reject, timeoutInMs = 0) => {\n    const registerTimeout = (offset) => {\n        const timeout = timeoutInMs - offset;\n        const onTimeout = () => {\n            request.destroy();\n            reject(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${timeoutInMs} ms of inactivity (configured by client requestHandler).`), { name: \"TimeoutError\" }));\n        };\n        if (request.socket) {\n            request.socket.setTimeout(timeout, onTimeout);\n            request.on(\"close\", () => request.socket?.removeListener(\"timeout\", onTimeout));\n        }\n        else {\n            request.setTimeout(timeout, onTimeout);\n        }\n    };\n    if (0 < timeoutInMs && timeoutInMs < 6000) {\n        registerTimeout(0);\n        return 0;\n    }\n    return timing.setTimeout(registerTimeout.bind(null, timeoutInMs === 0 ? 0 : DEFER_EVENT_LISTENER_TIME), DEFER_EVENT_LISTENER_TIME);\n};\n","import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { NodeHttpHandler } from \"@smithy/node-http-handler\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nimport fs from \"fs/promises\";\nimport { checkUrl } from \"./checkUrl\";\nimport { createGetRequest, getCredentials } from \"./requestHelpers\";\nimport { retryWrapper } from \"./retry-wrapper\";\nconst AWS_CONTAINER_CREDENTIALS_RELATIVE_URI = \"AWS_CONTAINER_CREDENTIALS_RELATIVE_URI\";\nconst DEFAULT_LINK_LOCAL_HOST = \"http://169.254.170.2\";\nconst AWS_CONTAINER_CREDENTIALS_FULL_URI = \"AWS_CONTAINER_CREDENTIALS_FULL_URI\";\nconst AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE = \"AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE\";\nconst AWS_CONTAINER_AUTHORIZATION_TOKEN = \"AWS_CONTAINER_AUTHORIZATION_TOKEN\";\nexport const fromHttp = (options = {}) => {\n    options.logger?.debug(\"@aws-sdk/credential-provider-http - fromHttp\");\n    let host;\n    const relative = options.awsContainerCredentialsRelativeUri ?? process.env[AWS_CONTAINER_CREDENTIALS_RELATIVE_URI];\n    const full = options.awsContainerCredentialsFullUri ?? process.env[AWS_CONTAINER_CREDENTIALS_FULL_URI];\n    const token = options.awsContainerAuthorizationToken ?? process.env[AWS_CONTAINER_AUTHORIZATION_TOKEN];\n    const tokenFile = options.awsContainerAuthorizationTokenFile ?? process.env[AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE];\n    const warn = options.logger?.constructor?.name === \"NoOpLogger\" || !options.logger?.warn\n        ? console.warn\n        : options.logger.warn.bind(options.logger);\n    if (relative && full) {\n        warn(\"@aws-sdk/credential-provider-http: \" +\n            \"you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri.\");\n        warn(\"awsContainerCredentialsFullUri will take precedence.\");\n    }\n    if (token && tokenFile) {\n        warn(\"@aws-sdk/credential-provider-http: \" +\n            \"you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile.\");\n        warn(\"awsContainerAuthorizationToken will take precedence.\");\n    }\n    if (full) {\n        host = full;\n    }\n    else if (relative) {\n        host = `${DEFAULT_LINK_LOCAL_HOST}${relative}`;\n    }\n    else {\n        throw new CredentialsProviderError(`No HTTP credential provider host provided.\nSet AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`, { logger: options.logger });\n    }\n    const url = new URL(host);\n    checkUrl(url, options.logger);\n    const requestHandler = NodeHttpHandler.create({\n        requestTimeout: options.timeout ?? 1000,\n        connectionTimeout: options.timeout ?? 1000,\n    });\n    return retryWrapper(async () => {\n        const request = createGetRequest(url);\n        if (token) {\n            request.headers.Authorization = token;\n        }\n        else if (tokenFile) {\n            request.headers.Authorization = (await fs.readFile(tokenFile)).toString();\n        }\n        try {\n            const result = await requestHandler.handle(request);\n            return getCredentials(result.response).then((creds) => setCredentialFeature(creds, \"CREDENTIALS_HTTP\", \"z\"));\n        }\n        catch (e) {\n            throw new CredentialsProviderError(String(e), { logger: options.logger });\n        }\n    }, options.maxRetries ?? 3, options.timeout ?? 1000);\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nconst LOOPBACK_CIDR_IPv4 = \"127.0.0.0/8\";\nconst LOOPBACK_CIDR_IPv6 = \"::1/128\";\nconst ECS_CONTAINER_HOST = \"169.254.170.2\";\nconst EKS_CONTAINER_HOST_IPv4 = \"169.254.170.23\";\nconst EKS_CONTAINER_HOST_IPv6 = \"[fd00:ec2::23]\";\nexport const checkUrl = (url, logger) => {\n    if (url.protocol === \"https:\") {\n        return;\n    }\n    if (url.hostname === ECS_CONTAINER_HOST ||\n        url.hostname === EKS_CONTAINER_HOST_IPv4 ||\n        url.hostname === EKS_CONTAINER_HOST_IPv6) {\n        return;\n    }\n    if (url.hostname.includes(\"[\")) {\n        if (url.hostname === \"[::1]\" || url.hostname === \"[0000:0000:0000:0000:0000:0000:0000:0001]\") {\n            return;\n        }\n    }\n    else {\n        if (url.hostname === \"localhost\") {\n            return;\n        }\n        const ipComponents = url.hostname.split(\".\");\n        const inRange = (component) => {\n            const num = parseInt(component, 10);\n            return 0 <= num && num <= 255;\n        };\n        if (ipComponents[0] === \"127\" &&\n            inRange(ipComponents[1]) &&\n            inRange(ipComponents[2]) &&\n            inRange(ipComponents[3]) &&\n            ipComponents.length === 4) {\n            return;\n        }\n    }\n    throw new CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:\n  - loopback CIDR 127.0.0.0/8 or [::1/128]\n  - ECS container host 169.254.170.2\n  - EKS container host 169.254.170.23 or [fd00:ec2::23]`, { logger });\n};\n","import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { HttpRequest } from \"@smithy/protocol-http\";\nimport { parseRfc3339DateTime } from \"@smithy/smithy-client\";\nimport { sdkStreamMixin } from \"@smithy/util-stream\";\nexport function createGetRequest(url) {\n    return new HttpRequest({\n        protocol: url.protocol,\n        hostname: url.hostname,\n        port: Number(url.port),\n        path: url.pathname,\n        query: Array.from(url.searchParams.entries()).reduce((acc, [k, v]) => {\n            acc[k] = v;\n            return acc;\n        }, {}),\n        fragment: url.hash,\n    });\n}\nexport async function getCredentials(response, logger) {\n    const stream = sdkStreamMixin(response.body);\n    const str = await stream.transformToString();\n    if (response.statusCode === 200) {\n        const parsed = JSON.parse(str);\n        if (typeof parsed.AccessKeyId !== \"string\" ||\n            typeof parsed.SecretAccessKey !== \"string\" ||\n            typeof parsed.Token !== \"string\" ||\n            typeof parsed.Expiration !== \"string\") {\n            throw new CredentialsProviderError(\"HTTP credential provider response not of the required format, an object matching: \" +\n                \"{ AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }\", { logger });\n        }\n        return {\n            accessKeyId: parsed.AccessKeyId,\n            secretAccessKey: parsed.SecretAccessKey,\n            sessionToken: parsed.Token,\n            expiration: parseRfc3339DateTime(parsed.Expiration),\n        };\n    }\n    if (response.statusCode >= 400 && response.statusCode < 500) {\n        let parsedBody = {};\n        try {\n            parsedBody = JSON.parse(str);\n        }\n        catch (e) { }\n        throw Object.assign(new CredentialsProviderError(`Server responded with status: ${response.statusCode}`, { logger }), {\n            Code: parsedBody.Code,\n            Message: parsedBody.Message,\n        });\n    }\n    throw new CredentialsProviderError(`Server responded with status: ${response.statusCode}`, { logger });\n}\n","export const retryWrapper = (toRetry, maxRetries, delayMs) => {\n    return async () => {\n        for (let i = 0; i < maxRetries; ++i) {\n            try {\n                return await toRetry();\n            }\n            catch (e) {\n                await new Promise((resolve) => setTimeout(resolve, delayMs));\n            }\n        }\n        return await toRetry();\n    };\n};\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9]}