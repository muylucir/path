module.exports=[56394,e=>{e.v({name:"@aws-sdk/client-bedrock-runtime",description:"AWS SDK for JavaScript Bedrock Runtime Client for Node.js, Browser and React Native",version:"3.955.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-bedrock-runtime","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo bedrock-runtime","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.954.0","@aws-sdk/credential-provider-node":"3.955.0","@aws-sdk/eventstream-handler-node":"3.953.0","@aws-sdk/middleware-eventstream":"3.953.0","@aws-sdk/middleware-host-header":"3.953.0","@aws-sdk/middleware-logger":"3.953.0","@aws-sdk/middleware-recursion-detection":"3.953.0","@aws-sdk/middleware-user-agent":"3.954.0","@aws-sdk/middleware-websocket":"3.953.0","@aws-sdk/region-config-resolver":"3.953.0","@aws-sdk/token-providers":"3.955.0","@aws-sdk/types":"3.953.0","@aws-sdk/util-endpoints":"3.953.0","@aws-sdk/util-user-agent-browser":"3.953.0","@aws-sdk/util-user-agent-node":"3.954.0","@smithy/config-resolver":"^4.4.4","@smithy/core":"^3.19.0","@smithy/eventstream-serde-browser":"^4.2.6","@smithy/eventstream-serde-config-resolver":"^4.3.6","@smithy/eventstream-serde-node":"^4.2.6","@smithy/fetch-http-handler":"^5.3.7","@smithy/hash-node":"^4.2.6","@smithy/invalid-dependency":"^4.2.6","@smithy/middleware-content-length":"^4.2.6","@smithy/middleware-endpoint":"^4.4.0","@smithy/middleware-retry":"^4.4.16","@smithy/middleware-serde":"^4.2.7","@smithy/middleware-stack":"^4.2.6","@smithy/node-config-provider":"^4.3.6","@smithy/node-http-handler":"^4.4.6","@smithy/protocol-http":"^5.3.6","@smithy/smithy-client":"^4.10.1","@smithy/types":"^4.10.0","@smithy/url-parser":"^4.2.6","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.15","@smithy/util-defaults-mode-node":"^4.2.18","@smithy/util-endpoints":"^3.2.6","@smithy/util-middleware":"^4.2.6","@smithy/util-retry":"^4.2.6","@smithy/util-stream":"^4.5.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-bedrock-runtime",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-bedrock-runtime"}})},25328,(e,t,r)=>{t.exports=e.x("http2",()=>require("http2"))},6797,e=>{"use strict";var t,r,n=e.i(74248),o=e.i(76359),i=e.i(44782),s=e.i(19638),a=e.i(60259),c=e.i(90409);class d{signer;constructor(e){this.signer=e.signer}presign(e,t={}){return this.signer.presign(e,t)}async sign(e,t){return c.HttpRequest.isInstance(e)&&("ws:"===e.protocol||"wss:"===e.protocol)?{...await this.signer.presign({...e,body:""},{...t,expiresIn:60,unsignableHeaders:new Set(Object.keys(e.headers).filter(e=>"host"!==e))}),body:e.body}:this.signer.sign(e,t)}}var l=e.i(64722),u=e.i(2659),f=e.i(32092),m=e.i(81195),p=e.i(26545),g=e.i(76405),h=e.i(11675),y=e.i(12554),b=e.i(2e4),x=e.i(97765),v=e.i(40624),S=e.i(69616),w=e.i(90092),E=e.i(1757);let k=async(e,t,r)=>({operation:(0,w.getSmithyContext)(t).operation,region:await (0,E.normalizeProvider)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),C=e=>{let t=[];return e.operation,t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"bedrock",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}),t.push({schemeId:"smithy.api#httpBearerAuth",propertiesExtractor:({profile:e,filepath:t,configFilepath:r,ignoreCache:n},o)=>({identityProperties:{profile:e,filepath:t,configFilepath:r,ignoreCache:n}})}),t},P={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var A=e.i(56394),R=e.i(91323),I=e.i(9677),T=e.i(93346),O=e.i(50077),U=("function"==typeof SuppressedError&&SuppressedError,e.i(874)),D="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:e=>{let t=((e,t)=>{if("string"!=typeof e)throw TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?U.Buffer.from(e,t):U.Buffer.from(e)})(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};function B(){this.crc32=new M}B.prototype.update=function(e){("string"==typeof e?0===e.length:0===e.byteLength)||this.crc32.update(e instanceof Uint8Array?e:"string"==typeof e?D(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e))},B.prototype.digest=function(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function(){return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){var d=[a,c];if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&d[0]?n.return:d[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,d[1])).done)return o;switch(n=0,o&&(d=[2&d[0],o.value]),d[0]){case 0:case 1:o=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,n=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===d[0]||2===d[0])){i=0;continue}if(3===d[0]&&(!o||d[1]>o[0]&&d[1]<o[3])){i.label=d[1];break}if(6===d[0]&&i.label<o[1]){i.label=o[1],o=d;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(d);break}o[2]&&i.ops.pop(),i.trys.pop();continue}d=t.call(e,i)}catch(e){d=[6,e],n=0}finally{r=o=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}}(this,function(e){var t;return[2,new Uint8Array([(0xff000000&(t=this.crc32.digest()))>>24,(0xff0000&t)>>16,(65280&t)>>8,255&t])]})},new(r||(r=Promise))(function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})},B.prototype.reset=function(){this.crc32=new M};var M=function(){function e(){this.checksum=0xffffffff}return e.prototype.update=function(e){var t,r;try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),o=n.next();!o.done;o=n.next()){var i=o.value;this.checksum=this.checksum>>>8^G[(this.checksum^i)&255]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(0xffffffff^this.checksum)>>>0},e}(),G=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}([0,0x77073096,0xee0e612c,0x990951ba,0x76dc419,0x706af48f,0xe963a535,0x9e6495a3,0xedb8832,0x79dcb8a4,0xe0d5e91e,0x97d2d988,0x9b64c2b,0x7eb17cbd,0xe7b82d07,0x90bf1d91,0x1db71064,0x6ab020f2,0xf3b97148,0x84be41de,0x1adad47d,0x6ddde4eb,0xf4d4b551,0x83d385c7,0x136c9856,0x646ba8c0,0xfd62f97a,0x8a65c9ec,0x14015c4f,0x63066cd9,0xfa0f3d63,0x8d080df5,0x3b6e20c8,0x4c69105e,0xd56041e4,0xa2677172,0x3c03e4d1,0x4b04d447,0xd20d85fd,0xa50ab56b,0x35b5a8fa,0x42b2986c,0xdbbbc9d6,0xacbcf940,0x32d86ce3,0x45df5c75,0xdcd60dcf,0xabd13d59,0x26d930ac,0x51de003a,0xc8d75180,0xbfd06116,0x21b4f4b5,0x56b3c423,0xcfba9599,0xb8bda50f,0x2802b89e,0x5f058808,0xc60cd9b2,0xb10be924,0x2f6f7c87,0x58684c11,0xc1611dab,0xb6662d3d,0x76dc4190,0x1db7106,0x98d220bc,0xefd5102a,0x71b18589,0x6b6b51f,0x9fbfe4a5,0xe8b8d433,0x7807c9a2,0xf00f934,0x9609a88e,0xe10e9818,0x7f6a0dbb,0x86d3d2d,0x91646c97,0xe6635c01,0x6b6b51f4,0x1c6c6162,0x856530d8,0xf262004e,0x6c0695ed,0x1b01a57b,0x8208f4c1,0xf50fc457,0x65b0d9c6,0x12b7e950,0x8bbeb8ea,0xfcb9887c,0x62dd1ddf,0x15da2d49,0x8cd37cf3,0xfbd44c65,0x4db26158,0x3ab551ce,0xa3bc0074,0xd4bb30e2,0x4adfa541,0x3dd895d7,0xa4d1c46d,0xd3d6f4fb,0x4369e96a,0x346ed9fc,0xad678846,0xda60b8d0,0x44042d73,0x33031de5,0xaa0a4c5f,0xdd0d7cc9,0x5005713c,0x270241aa,0xbe0b1010,0xc90c2086,0x5768b525,0x206f85b3,0xb966d409,0xce61e49f,0x5edef90e,0x29d9c998,0xb0d09822,0xc7d7a8b4,0x59b33d17,0x2eb40d81,0xb7bd5c3b,0xc0ba6cad,0xedb88320,0x9abfb3b6,0x3b6e20c,0x74b1d29a,0xead54739,0x9dd277af,0x4db2615,0x73dc1683,0xe3630b12,0x94643b84,0xd6d6a3e,0x7a6a5aa8,0xe40ecf0b,0x9309ff9d,0xa00ae27,0x7d079eb1,0xf00f9344,0x8708a3d2,0x1e01f268,0x6906c2fe,0xf762575d,0x806567cb,0x196c3671,0x6e6b06e7,0xfed41b76,0x89d32be0,0x10da7a5a,0x67dd4acc,0xf9b9df6f,0x8ebeeff9,0x17b7be43,0x60b08ed5,0xd6d6a3e8,0xa1d1937e,0x38d8c2c4,0x4fdff252,0xd1bb67f1,0xa6bc5767,0x3fb506dd,0x48b2364b,0xd80d2bda,0xaf0a1b4c,0x36034af6,0x41047a60,0xdf60efc3,0xa867df55,0x316e8eef,0x4669be79,0xcb61b38c,0xbc66831a,0x256fd2a0,0x5268e236,0xcc0c7795,0xbb0b4703,0x220216b9,0x5505262f,0xc5ba3bbe,0xb2bd0b28,0x2bb45a92,0x5cb36a04,0xc2d7ffa7,0xb5d0cf31,0x2cd99e8b,0x5bdeae1d,0x9b64c2b0,0xec63f226,0x756aa39c,0x26d930a,0x9c0906a9,0xeb0e363f,0x72076785,0x5005713,0x95bf4a82,0xe2b87a14,0x7bb12bae,0xcb61b38,0x92d28e9b,0xe5d5be0d,0x7cdcefb7,0xbdbdf21,0x86d3d2d4,0xf1d4e242,0x68ddb3f8,0x1fda836e,0x81be16cd,0xf6b9265b,0x6fb077e1,0x18b74777,0x88085ae6,0xff0f6a70,0x66063bca,0x11010b5c,0x8f659eff,0xf862ae69,0x616bffd3,0x166ccf45,0xa00ae278,0xd70dd2ee,0x4e048354,0x3903b3c2,0xa7672661,0xd06016f7,0x4969474d,0x3e6e77db,0xaed16a4a,0xd9d65adc,0x40df0b66,936918e3,0xa9bcae53,0xdebb9ec5,0x47b2cf7f,0x30b5ffe9,0xbdbdf21c,0xcabac28a,0x53b39330,0x24b4a3a6,0xbad03605,0xcdd70693,0x54de5729,0x23d967bf,0xb3667a2e,0xc4614ab8,0x5d681b02,0x2a6f2b94,0xb40bbe37,0xc30c8ea1,0x5a05df1b,0x2d02ef8d]),L=e.i(75863);class ${bytes;constructor(e){if(this.bytes=e,8!==e.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let r=7,n=Math.abs(Math.round(e));r>-1&&n>0;r--,n/=256)t[r]=n;return e<0&&N(t),new $(t)}valueOf(){let e=this.bytes.slice(0),t=128&e[0];return t&&N(e),parseInt((0,L.toHex)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function N(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class F{toUtf8;fromUtf8;constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){let t=[];for(let r of Object.keys(e)){let n=this.fromUtf8(r);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[r]))}let r=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0)),n=0;for(let e of t)r.set(e,n),n+=e.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([+!e.value]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(e.value,3),i;case"string":let s=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+s.byteLength));a.setUint8(0,7),a.setUint16(1,s.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(s,3),c;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set($.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!K.test(e.value))throw Error(`Invalid UUID received: ${e.value}`);let l=new Uint8Array(17);return l[0]=9,l.set((0,L.fromHex)(e.value.replace(/\-/g,"")),1),l}}parse(e){let t={},r=0;for(;r<e.byteLength;){let n=e.getUint8(r++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,n));switch(r+=n,e.getUint8(r++)){case 0:t[o]={type:_,value:!0};break;case 1:t[o]={type:_,value:!1};break;case 2:t[o]={type:H,value:e.getInt8(r++)};break;case 3:t[o]={type:j,value:e.getInt16(r,!1)},r+=2;break;case 4:t[o]={type:z,value:e.getInt32(r,!1)},r+=4;break;case 5:t[o]={type:V,value:new $(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let i=e.getUint16(r,!1);r+=2,t[o]={type:q,value:new Uint8Array(e.buffer,e.byteOffset+r,i)},r+=i;break;case 7:let s=e.getUint16(r,!1);r+=2,t[o]={type:W,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,s))},r+=s;break;case 8:t[o]={type:X,value:new Date(new $(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let a=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,t[o]={type:J,value:`${(0,L.toHex)(a.subarray(0,4))}-${(0,L.toHex)(a.subarray(4,6))}-${(0,L.toHex)(a.subarray(6,8))}-${(0,L.toHex)(a.subarray(8,10))}-${(0,L.toHex)(a.subarray(10))}`};break;default:throw Error("Unrecognized header type tag")}}return t}}(t=r||(r={}))[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid";let _="boolean",H="byte",j="short",z="integer",V="long",q="binary",W="string",X="timestamp",J="uuid",K=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Y=16;class Q{headerMarshaller;messageBuffer;isEndOfStream;constructor(e,t){this.headerMarshaller=new F(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage:()=>e,isEndOfStream:()=>t}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let t=this.isEndOfStream;return{getMessages:()=>e,isEndOfStream:()=>t}}encode({headers:e,body:t}){let r=this.headerMarshaller.format(e),n=r.byteLength+t.byteLength+16,o=new Uint8Array(n),i=new DataView(o.buffer,o.byteOffset,o.byteLength),s=new M;return i.setUint32(0,n,!1),i.setUint32(4,r.byteLength,!1),i.setUint32(8,s.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(t,r.byteLength+12),i.setUint32(n-4,s.update(o.subarray(8,n-4)).digest(),!1),o}decode(e){let{headers:t,body:r}=function({byteLength:e,byteOffset:t,buffer:r}){if(e<Y)throw Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw Error("Reported message length does not match received message length");let i=n.getUint32(4,!1),s=n.getUint32(8,!1),a=n.getUint32(e-4,!1),c=new M().update(new Uint8Array(r,t,8));if(s!==c.digest())throw Error(`The prelude checksum specified in the message (${s}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+8,e-12)),a!==c.digest())throw Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+8+4,i),body:new Uint8Array(r,t+8+4+i,o-i-16)}}(e);return{headers:this.headerMarshaller.parse(t),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}}var Z=e.i(88947),ee=Z;class et extends ee.Transform{priorSignature;messageSigner;eventStreamCodec;systemClockOffsetProvider;constructor(e){super({autoDestroy:!0,readableObjectMode:!0,writableObjectMode:!0,...e}),this.priorSignature=e.priorSignature,this.eventStreamCodec=e.eventStreamCodec,this.messageSigner=e.messageSigner,this.systemClockOffsetProvider=e.systemClockOffsetProvider}async _transform(e,t,r){try{var n;let t,o=new Date(Date.now()+await this.systemClockOffsetProvider()),i={":date":{type:"timestamp",value:o}},s=await this.messageSigner.sign({message:{body:e,headers:i},priorSignature:this.priorSignature},{signingDate:o});this.priorSignature=s.signature;let a=this.eventStreamCodec.encode({headers:{...i,":chunk-signature":{type:"binary",value:(n=s.signature,t=Buffer.from(n,"hex"),new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT))}},body:e});return this.push(a),r()}catch(e){r(e)}}}class er{messageSigner;eventStreamCodec;systemClockOffsetProvider;constructor(e){this.messageSigner=e.messageSigner,this.eventStreamCodec=new Q(e.utf8Encoder,e.utf8Decoder),this.systemClockOffsetProvider=async()=>e.systemClockOffset??0}async handle(e,t,r={}){let n,o=t.request,{body:i,query:s}=o;if(!(i instanceof Z.Readable))throw Error("Eventstream payload must be a Readable stream.");o.body=new Z.PassThrough({objectMode:!0});let a=o.headers?.authorization?.match(/Signature=([\w]+)$/),c=new et({priorSignature:a?.[1]??s?.["X-Amz-Signature"]??"",eventStreamCodec:this.eventStreamCodec,messageSigner:await this.messageSigner(),systemClockOffsetProvider:this.systemClockOffsetProvider});(0,Z.pipeline)(i,c,o.body,e=>{if(e)throw e});try{n=await e(t)}catch(e){throw o.body.end(),e}return n}}let en=e=>new er(e);var eo=e.i(35485),ei=e.i(35767),es=e.i(34028),ea=e.i(52040),ec=e.i(73253),ed=e.i(19117),el=e.i(48659),eu=e.i(71925),ef=e.i(85877),em=e.i(5065);class ep{async sign(e,t,r){let n=c.HttpRequest.clone(e);if(!t.token)throw Error("request could not be signed with `token` since the `token` is not defined");return n.headers.Authorization=`Bearer ${t.token}`,n}}class eg{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let e of this.options.inputStream){let t=this.options.decoder.decode(e);yield t}}}class eh{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let e of this.options.messageStream){let t=this.options.encoder.encode(e);yield t}this.options.includeEndFrame&&(yield new Uint8Array(0))}}class ey{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let e of this.options.messageStream){let t=await this.options.deserializer(e);void 0!==t&&(yield t)}}}class eb{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let e of this.options.inputStream){let t=this.options.serializer(e);yield t}}}class ex{eventStreamCodec;utfEncoder;constructor({utf8Encoder:e,utf8Decoder:t}){this.eventStreamCodec=new Q(e,t),this.utfEncoder=e}deserialize(e,t){var r;let n,o,i,s,a;return new ey({messageStream:new eg({inputStream:(n=0,o=0,i=null,s=null,a=e=>{if("number"!=typeof e)throw Error("Attempted to allocate an event message where size was not a number: "+e);n=e,o=4,new DataView((i=new Uint8Array(e)).buffer).setUint32(0,e,!1)},{[Symbol.asyncIterator]:async function*(){let t=e[Symbol.asyncIterator]();for(;;){let{value:e,done:r}=await t.next();if(r){if(n)if(n===o)yield i;else throw Error("Truncated event message received.");return}let c=e.length,d=0;for(;d<c;){if(!i){let t=c-d;s||(s=new Uint8Array(4));let r=Math.min(4-o,t);if(s.set(e.slice(d,d+r),o),o+=r,d+=r,o<4)break;a(new DataView(s.buffer).getUint32(0,!1)),s=null}let t=Math.min(n-o,c-d);i.set(e.slice(d,d+t),o),o+=t,d+=t,n&&n===o&&(yield i,i=null,n=0,o=0)}}}}),decoder:this.eventStreamCodec}),deserializer:(r=this.utfEncoder,async function(e){let{value:n}=e.headers[":message-type"];if("error"===n){let t=Error(e.headers[":error-message"].value||"UnknownError");throw t.name=e.headers[":error-code"].value,t}if("exception"===n){let n=e.headers[":exception-type"].value,o=await t({[n]:e});if(o.$unknown){let t=Error(r(e.body));throw t.name=n,t}throw o[n]}if("event"===n){let r={[e.headers[":event-type"].value]:e},n=await t(r);if(n.$unknown)return;return n}throw Error(`Unrecognizable event type: ${e.headers[":event-type"].value}`)})})}serialize(e,t){return new eh({messageStream:new eb({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}async function*ev(e){let t=!1,r=!1,n=[];for(e.on("error",e=>{if(t||(t=!0),e)throw e}),e.on("data",e=>{n.push(e)}),e.on("end",()=>{t=!0});!r;){let e=await new Promise(e=>setTimeout(()=>e(n.shift()),0));e&&(yield e),r=t&&0===n.length}}class eS{universalMarshaller;constructor({utf8Encoder:e,utf8Decoder:t}){this.universalMarshaller=new ex({utf8Decoder:t,utf8Encoder:e})}deserialize(e,t){let r="function"==typeof e[Symbol.asyncIterator]?e:ev(e);return this.universalMarshaller.deserialize(r,t)}serialize(e,t){return Z.Readable.from(this.universalMarshaller.serialize(e,t))}}let ew=e=>new eS(e);var eE=e.i(92210),ek=e.i(44289),eC=e.i(60663),eP=e.i(72483),eA=e.i(25328),eR=e.i(31781);class eI{sessions=[];constructor(e){this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t!==e||t.destroyed||t.destroy()}}class eT{constructor(e){if(this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let e=n.poll();if(e&&!this.config.disableConcurrency)return e}let o=eA.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},t=>{if(t)throw Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(r,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,i);let s=this.sessionCache.get(r)||new eI;return s.offerLast(o),this.sessionCache.set(r,s),o}deleteSession(e,t){let r=this.sessionCache.get(e);!r||r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let e of t)e.destroyed||e.destroy(),t.remove(e);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}}var eO=e.i(37071);class eU{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new eT({});static create(e){return"function"==typeof e?.handle?e:new eU(e)}constructor(e){this.configProvider=new Promise((t,r)=>{"function"==typeof e?e().then(e=>{t(e||{})}).catch(r):t(e||{})})}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:t,requestTimeout:r}={}){!this.config&&(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config,i=r??n;return new Promise((r,n)=>{let s,a=!1,c=async e=>{await s,r(e)},d=async e=>{await s,n(e)};if(t?.aborted){a=!0;let e=Error("Request aborted");e.name="AbortError",d(e);return}let{hostname:l,method:u,port:f,protocol:m,query:p}=e,g="";if(null!=e.username||null!=e.password){let t=e.username??"",r=e.password??"";g=`${t}:${r}@`}let h=`${m}//${g}${l}${f?`:${f}`:""}`,y={destination:new URL(h)},b=this.connectionManager.lease(y,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),x=e=>{o&&this.destroySession(b),a=!0,d(e)},v=(0,eP.buildQueryString)(p||{}),S=e.path;v&&(S+=`?${v}`),e.fragment&&(S+=`#${e.fragment}`);let w=b.request({...e.headers,[eA.constants.HTTP2_HEADER_PATH]:S,[eA.constants.HTTP2_HEADER_METHOD]:u});if(b.ref(),w.on("response",e=>{let t=new eC.HttpResponse({statusCode:e[":status"]||-1,headers:(0,eR.getTransformedHeaders)(e),body:w});a=!0,c({response:t}),o&&(b.close(),this.connectionManager.deleteSession(h,b))}),i&&w.setTimeout(i,()=>{w.close();let e=Error(`Stream timed out because of no activity for ${i} ms`);e.name="TimeoutError",x(e)}),t){let e=()=>{w.close();let e=Error("Request aborted");e.name="AbortError",x(e)};"function"==typeof t.addEventListener?(t.addEventListener("abort",e,{once:!0}),w.once("close",()=>t.removeEventListener("abort",e))):t.onabort=e}w.on("frameError",(e,t,r)=>{x(Error(`Frame type id ${e} in stream id ${r} has failed with code ${t}.`))}),w.on("error",x),w.on("aborted",()=>{x(Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${w.rstCode}.`))}),w.on("close",()=>{b.unref(),o&&b.destroy(),a||x(Error("Unexpected error: http2 request did not get a response"))}),s=(0,eO.writeRequestBody)(w,e,i)})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[e]:t}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}}var eD=e.i(87891),eB=e.i(44940),eM=e.i(87008),eG=e.i(79735),eL=e.i(61391),e$=e.i(25704),eN=e.i(21664),eF=e.i(98841),e_=e.i(6885),eH=e.i(80526),ej=e.i(35058),ez=e.i(56389),eV=e.i(48128);e.i(93604);var eq=e.i(68705),eW=e.i(6454),eX=e.i(68832),eJ=e.i(18455);let eK="required",eY="argv",eQ="isSet",eZ="booleanEquals",e0="error",e3="endpoint",e1="tree",e6="PartitionResult",e8={[eK]:!1,type:"string"},e2={[eK]:!0,default:!1,type:"boolean"},e4={ref:"Endpoint"},e5={fn:eZ,[eY]:[{ref:"UseFIPS"},!0]},e9={fn:eZ,[eY]:[{ref:"UseDualStack"},!0]},e7={},te={fn:"getAttr",[eY]:[{ref:e6},"supportsFIPS"]},tt={fn:eZ,[eY]:[!0,{fn:"getAttr",[eY]:[{ref:e6},"supportsDualStack"]}]},tr=[e5],tn=[e9],to=[{ref:"Region"}],ti={version:"1.0",parameters:{Region:e8,UseDualStack:e2,UseFIPS:e2,Endpoint:e8},rules:[{conditions:[{fn:eQ,[eY]:[e4]}],rules:[{conditions:tr,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:e0},{rules:[{conditions:tn,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:e0},{endpoint:{url:e4,properties:e7,headers:e7},type:e3}],type:e1}],type:e1},{rules:[{conditions:[{fn:eQ,[eY]:to}],rules:[{conditions:[{fn:"aws.partition",[eY]:to,assign:e6}],rules:[{conditions:[e5,e9],rules:[{conditions:[{fn:eZ,[eY]:[!0,te]},tt],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:e7,headers:e7},type:e3}],type:e1}],type:e1},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:e0}],type:e1},{conditions:tr,rules:[{conditions:[{fn:eZ,[eY]:[te,!0]}],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:e7,headers:e7},type:e3}],type:e1}],type:e1},{error:"FIPS is enabled but this partition does not support FIPS",type:e0}],type:e1},{conditions:tn,rules:[{conditions:[tt],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:e7,headers:e7},type:e3}],type:e1}],type:e1},{error:"DualStack is enabled but this partition does not support DualStack",type:e0}],type:e1},{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dnsSuffix}",properties:e7,headers:e7},type:e3}],type:e1}],type:e1}],type:e1},{error:"Invalid Configuration: Missing Region",type:e0}],type:e1}]},ts=new eX.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ta=(e,t={})=>ts.get(e,()=>(0,eJ.resolveEndpoint)(ti,{endpointParams:e,logger:t.logger}));eW.customEndpointFunctions.aws=eq.awsEndpointFunctions;var tc=e.i(33911),td=e.i(4881),tl=e.i(27863);class tu extends x.Client{config;constructor(...[e]){const t=(e=>{(0,eB.emitWarningIfUnsupportedVersion)(process.version);let t=(0,eL.resolveDefaultsModeConfig)(e),r=()=>t().then(eM.loadConfigsForDefaultMode),n={apiVersion:"2023-09-30",base64Decoder:e?.base64Decoder??eH.fromBase64,base64Encoder:e?.base64Encoder??ej.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ta,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??C,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new R.AwsSdkSigV4Signer},{schemeId:"smithy.api#httpBearerAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#httpBearerAuth"),signer:new ep}],logger:e?.logger??new eF.NoOpLogger,protocol:e?.protocol??eN.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.bedrockruntime",version:"2023-09-30",serviceTarget:"AmazonBedrockFrontendService"},serviceId:e?.serviceId??"Bedrock Runtime",urlParser:e?.urlParser??e_.parseUrl,utf8Decoder:e?.utf8Decoder??ez.fromUtf8,utf8Encoder:e?.utf8Encoder??eV.toUtf8};(0,T.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger,signingName:"bedrock"};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ek.loadConfig)(I.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??eG.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??O.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,el.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:A.default.version}),eventStreamPayloadHandlerProvider:e?.eventStreamPayloadHandlerProvider??en,eventStreamSerdeProvider:e?.eventStreamSerdeProvider??ew,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new R.AwsSdkSigV4Signer},{schemeId:"smithy.api#httpBearerAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#httpBearerAuth")||(async e=>{try{return await (({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new ei.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,eo.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new ei.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return n.$source||(n.$source={}),n.$source.BEARER_SERVICE_ENV_VARS="3",n})({signingName:"bedrock"})()}catch(t){return await ((e={})=>(0,ea.memoize)((0,es.chain)((0,ec.fromSso)(e),async()=>{throw new ei.TokenProviderError("Could not load token from any providers",!1)}),e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5,e=>void 0!==e.expiration))(e)(e)}}),signer:new ep}],maxAttempts:e?.maxAttempts??(0,ek.loadConfig)(b.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ek.loadConfig)(eu.NODE_REGION_CONFIG_OPTIONS,{...eu.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:eU.create(e?.requestHandler??(async()=>({...await r(),disableConcurrentStreams:!0}))),retryMode:e?.retryMode??(0,ek.loadConfig)({...b.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||e$.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??eE.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??eD.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ek.loadConfig)(ef.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,ek.loadConfig)(em.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,ek.loadConfig)(ed.NODE_APP_ID_CONFIG_OPTIONS,o)}})(e||{});super(t),this.initConfig=t;const r=(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"bedrock"}))(t),c=(0,a.resolveUserAgentConfig)(r),x=(0,b.resolveRetryConfig)(c),w=(0,l.resolveRegionConfig)(x),P=(0,n.resolveHostHeaderConfig)(w),U=((e,t)=>{let r,n,o,i,s=Object.assign((0,tc.getAwsRegionExtensionConfiguration)(e),(0,tl.getDefaultExtensionConfiguration)(e),(0,td.getHttpHandlerExtensionConfiguration)(e),(r=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,o=e.credentials,i=e.token,{setHttpAuthScheme(e){let t=r.findIndex(t=>t.schemeId===e.schemeId);-1===t?r.push(e):r.splice(t,1,e)},httpAuthSchemes:()=>r,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){o=e},credentials:()=>o,setToken(e){i=e},token:()=>i}));return t.forEach(e=>e.configure(s)),Object.assign(e,(0,tc.resolveAwsRegionExtensionConfiguration)(s),(0,tl.resolveDefaultRuntimeConfig)(s),(0,td.resolveHttpHandlerRuntimeConfig)(s),{httpAuthSchemes:s.httpAuthSchemes(),httpAuthSchemeProvider:s.httpAuthSchemeProvider(),credentials:s.credentials(),token:s.token()})})((e=>{let{signer:t}=e;return Object.assign(e,{signer:async e=>{let r=await t(e);if(r)return new d({signer:r});throw Error("Expected WebsocketSignatureV4 signer, please check the client constructor.")}})})(function(e){let t=e.signer,r=e.signer,n=Object.assign(e,{eventSigner:t,messageSigner:r}),o=n.eventStreamPayloadHandlerProvider(n);return Object.assign(n,{eventStreamPayloadHandler:o})}((e=>{let t=(0,S.memoizeIdentityProvider)(e.token,S.isIdentityExpired,S.doesIdentityRequireRefresh);return Object.assign((0,v.resolveAwsSdkSigV4Config)(e),{authSchemePreference:(0,E.normalizeProvider)(e.authSchemePreference??[]),token:t})})((e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}))((0,h.resolveEndpointConfig)(P))))),e?.extensions||[]);this.config=U,this.middlewareStack.use((0,p.getSchemaSerdePlugin)(this.config)),this.middlewareStack.use((0,s.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,y.getRetryPlugin)(this.config)),this.middlewareStack.use((0,g.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,n.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,o.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,i.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,f.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:k,identityProviderConfigProvider:async e=>new u.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials,"smithy.api#httpBearerAuth":e.token})})),this.middlewareStack.use((0,m.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}var tf=e.i(53325),tm=e.i(90856),tp=e.i(5161),tg=e.i(99792);class th extends tg.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,th.prototype)}}class ty extends th{name="AccessDeniedException";$fault="client";constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,ty.prototype)}}class tb extends th{name="InternalServerException";$fault="server";constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,tb.prototype)}}class tx extends th{name="ThrottlingException";$fault="client";constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),Object.setPrototypeOf(this,tx.prototype)}}class tv extends th{name="ValidationException";$fault="client";constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,tv.prototype)}}class tS extends th{name="ConflictException";$fault="client";constructor(e){super({name:"ConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,tS.prototype)}}class tw extends th{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,tw.prototype)}}class tE extends th{name="ServiceQuotaExceededException";$fault="client";constructor(e){super({name:"ServiceQuotaExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,tE.prototype)}}class tk extends th{name="ServiceUnavailableException";$fault="server";constructor(e){super({name:"ServiceUnavailableException",$fault:"server",...e}),Object.setPrototypeOf(this,tk.prototype)}}class tC extends th{name="ModelErrorException";$fault="client";originalStatusCode;resourceName;constructor(e){super({name:"ModelErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,tC.prototype),this.originalStatusCode=e.originalStatusCode,this.resourceName=e.resourceName}}class tP extends th{name="ModelNotReadyException";$fault="client";$retryable={};constructor(e){super({name:"ModelNotReadyException",$fault:"client",...e}),Object.setPrototypeOf(this,tP.prototype)}}class tA extends th{name="ModelTimeoutException";$fault="client";constructor(e){super({name:"ModelTimeoutException",$fault:"client",...e}),Object.setPrototypeOf(this,tA.prototype)}}class tR extends th{name="ModelStreamErrorException";$fault="client";originalStatusCode;originalMessage;constructor(e){super({name:"ModelStreamErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,tR.prototype),this.originalStatusCode=e.originalStatusCode,this.originalMessage=e.originalMessage}}let tI="Content-Type",tT="X-Amzn-Bedrock-GuardrailIdentifier",tO="X-Amzn-Bedrock-GuardrailVersion",tU="X-Amzn-Bedrock-PerformanceConfig-Latency",tD="X-Amzn-Bedrock-Service-Tier",tB="X-Amzn-Bedrock-Trace",tM="action",tG="accept",tL="bytes",t$="bucketOwner",tN="body",tF="client",t_="contentBlockIndex",tH="cachePoint",tj="contradictingRules",tz="contentType",tV="claimsTrueScenario",tq="chunk",tW="citations",tX="claims",tJ="content",tK="confidence",tY="documentIndex",tQ="detected",tZ="document",t0="error",t3="format",t1="filters",t6="guardrail",t8="guardContent",t2="guardrailIdentifier",t4="guardrailVersion",t5="guarded",t9="http",t7="httpError",re="httpHeader",rt="input",rr="internalServerException",rn="image",ro="json",ri="location",rs="latencyMs",ra="logicWarning",rc="message",rd="modelId",rl="modelStreamErrorException",ru="modelTimeoutException",rf="match",rm="name",rp="originalStatusCode",rg="premises",rh="performanceConfigLatency",ry="promptRouter",rb="qualifiers",rx="reasoningContent",rv="redactedContent",rS="role",rw="source",rE="sourceContent",rk="s3Location",rC="searchResult",rP="serviceTier",rA="serviceUnavailableException",rR="server",rI="signature",rT="smithy.ts.sdk.synthetic.com.amazonaws.bedrockruntime",rO="status",rU="start",rD="streaming",rB="type",rM="throttlingException",rG="toolResult",rL="toolUse",r$="toolUseId",rN="text",rF="title",r_="total",rH="trace",rj="translation",rz="usage",rV="validationException",rq="video",rW="com.amazonaws.bedrockruntime";var rX=[0,rW,"AsyncInvokeMessage",8,0],rJ=[0,rW,"Body",8,21],rK=[0,rW,"GuardrailAutomatedReasoningStatementLogicContent",8,0],rY=[0,rW,"GuardrailAutomatedReasoningStatementNaturalLanguageContent",8,0],rQ=[0,rW,"PartBody",8,21],rZ=[-3,rW,"AccessDeniedException",{[t0]:tF,[t7]:403},[rc],[0]];tp.TypeRegistry.for(rW).registerError(rZ,ty);var r0=[3,rW,"AnyToolChoice",0,[],[]],r3=[3,rW,"AppliedGuardrailDetails",0,["guardrailId",t4,"guardrailArn","guardrailOrigin","guardrailOwnership"],[0,0,0,64,0]],r1=[3,rW,"AsyncInvokeS3OutputDataConfig",0,["s3Uri","kmsKeyId",t$],[0,0,0]],r6=[3,rW,"AsyncInvokeSummary",0,["invocationArn","modelArn","clientRequestToken",rO,"failureMessage","submitTime","lastModifiedTime","endTime","outputDataConfig"],[0,0,0,0,[()=>rX,0],5,5,5,()=>it]],r8=[3,rW,"AudioBlock",0,[t3,rw,t0],[0,[()=>ir,0],[()=>nh,0]]],r2=[3,rW,"AutoToolChoice",0,[],[]],r4=[3,rW,"BidirectionalInputPayloadPart",8,[tL],[[()=>rQ,0]]],r5=[3,rW,"BidirectionalOutputPayloadPart",8,[tL],[[()=>rQ,0]]],r9=[3,rW,"CachePointBlock",0,[rB],[0]],r7=[3,rW,"Citation",0,[rF,rw,rE,ri],[0,0,()=>o$,()=>ii]],ne=[3,rW,"CitationsConfig",0,["enabled"],[2]],nt=[3,rW,"CitationsContentBlock",0,[tJ,tW],[()=>oG,()=>oL]],nr=[3,rW,"CitationsDelta",0,[rF,rw,rE,ri],[0,0,()=>oN,()=>ii]],nn=[3,rW,"CitationSourceContentDelta",0,[rN],[0]],no=[-3,rW,"ConflictException",{[t0]:tF,[t7]:400},[rc],[0]];tp.TypeRegistry.for(rW).registerError(no,tS);var ni=[3,rW,"ContentBlockDeltaEvent",0,["delta",t_],[[()=>ic,0],1]],ns=[3,rW,"ContentBlockStartEvent",0,[rU,t_],[()=>id,1]],na=[3,rW,"ContentBlockStopEvent",0,[t_],[1]],nc=[3,rW,"ConverseStreamMetadataEvent",0,[rz,"metrics",rH,"performanceConfig",rP],[()=>ok,()=>nd,[()=>nl,0],()=>od,()=>ob]],nd=[3,rW,"ConverseStreamMetrics",0,[rs],[1]],nl=[3,rW,"ConverseStreamTrace",0,[t6,ry],[[()=>nZ,0],()=>ol]],nu=[3,rW,"ConverseTokensRequest",0,["messages","system","toolConfig","additionalModelRequestFields"],[[()=>o6,0],[()=>o2,0],()=>oC,15]],nf=[3,rW,"DocumentBlock",0,[t3,rm,rw,"context",tW],[0,0,()=>iu,0,()=>ne]],nm=[3,rW,"DocumentCharLocation",0,[tY,rU,"end"],[1,1,1]],np=[3,rW,"DocumentChunkLocation",0,[tY,rU,"end"],[1,1,1]],ng=[3,rW,"DocumentPageLocation",0,[tY,rU,"end"],[1,1,1]],nh=[3,rW,"ErrorBlock",8,[rc],[0]],ny=[3,rW,"GuardrailAssessment",0,["topicPolicy","contentPolicy","wordPolicy","sensitiveInformationPolicy","contextualGroundingPolicy","automatedReasoningPolicy","invocationMetrics","appliedGuardrailDetails"],[()=>nQ,()=>nB,()=>n3,()=>nX,()=>nG,[()=>nE,0],()=>nj,()=>r3]],nb=[3,rW,"GuardrailAutomatedReasoningImpossibleFinding",0,[rj,tj,ra],[[()=>nI,0],()=>oq,[()=>nS,0]]],nx=[3,rW,"GuardrailAutomatedReasoningInputTextReference",0,[rN],[[()=>rY,0]]],nv=[3,rW,"GuardrailAutomatedReasoningInvalidFinding",0,[rj,tj,ra],[[()=>nI,0],()=>oq,[()=>nS,0]]],nS=[3,rW,"GuardrailAutomatedReasoningLogicWarning",0,[rB,rg,tX],[0,[()=>oW,0],[()=>oW,0]]],nw=[3,rW,"GuardrailAutomatedReasoningNoTranslationsFinding",0,[],[]],nE=[3,rW,"GuardrailAutomatedReasoningPolicyAssessment",0,["findings"],[[()=>oz,0]]],nk=[3,rW,"GuardrailAutomatedReasoningRule",0,["identifier","policyVersionArn"],[0,0]],nC=[3,rW,"GuardrailAutomatedReasoningSatisfiableFinding",0,[rj,tV,"claimsFalseScenario",ra],[[()=>nI,0],[()=>nP,0],[()=>nP,0],[()=>nS,0]]],nP=[3,rW,"GuardrailAutomatedReasoningScenario",0,["statements"],[[()=>oW,0]]],nA=[3,rW,"GuardrailAutomatedReasoningStatement",0,["logic","naturalLanguage"],[[()=>rK,0],[()=>rY,0]]],nR=[3,rW,"GuardrailAutomatedReasoningTooComplexFinding",0,[],[]],nI=[3,rW,"GuardrailAutomatedReasoningTranslation",0,[rg,tX,"untranslatedPremises","untranslatedClaims",tK],[[()=>oW,0],[()=>oW,0],[()=>oV,0],[()=>oV,0],1]],nT=[3,rW,"GuardrailAutomatedReasoningTranslationAmbiguousFinding",0,["options","differenceScenarios"],[[()=>oJ,0],[()=>oj,0]]],nO=[3,rW,"GuardrailAutomatedReasoningTranslationOption",0,["translations"],[[()=>oX,0]]],nU=[3,rW,"GuardrailAutomatedReasoningValidFinding",0,[rj,tV,"supportingRules",ra],[[()=>nI,0],[()=>nP,0],()=>oq,[()=>nS,0]]],nD=[3,rW,"GuardrailContentFilter",0,[rB,tK,"filterStrength",tM,tQ],[0,0,0,0,2]],nB=[3,rW,"GuardrailContentPolicyAssessment",0,[t1],[()=>oK]],nM=[3,rW,"GuardrailContextualGroundingFilter",0,[rB,"threshold","score",tM,tQ],[0,1,1,0,2]],nG=[3,rW,"GuardrailContextualGroundingPolicyAssessment",0,[t1],[()=>oY]],nL=[3,rW,"GuardrailConverseImageBlock",8,[t3,rw],[0,[()=>ih,0]]],n$=[3,rW,"GuardrailConverseTextBlock",0,[rN,rb],[0,64]],nN=[3,rW,"GuardrailCoverage",0,["textCharacters","images"],[()=>nK,()=>nH]],nF=[3,rW,"GuardrailCustomWord",0,[rf,tM,tQ],[0,0,2]],n_=[3,rW,"GuardrailImageBlock",8,[t3,rw],[0,[()=>iy,0]]],nH=[3,rW,"GuardrailImageCoverage",0,[t5,r_],[1,1]],nj=[3,rW,"GuardrailInvocationMetrics",0,["guardrailProcessingLatency",rz,"guardrailCoverage"],[1,()=>n0,()=>nN]],nz=[3,rW,"GuardrailManagedWord",0,[rf,rB,tM,tQ],[0,0,0,2]],nV=[3,rW,"GuardrailOutputContent",0,[rN],[0]],nq=[3,rW,"GuardrailPiiEntityFilter",0,[rf,rB,tM,tQ],[0,0,0,2]],nW=[3,rW,"GuardrailRegexFilter",0,[rm,rf,"regex",tM,tQ],[0,0,0,0,2]],nX=[3,rW,"GuardrailSensitiveInformationPolicyAssessment",0,["piiEntities","regexes"],[()=>o0,()=>o3]],nJ=[3,rW,"GuardrailTextBlock",0,[rN,rb],[0,64]],nK=[3,rW,"GuardrailTextCharactersCoverage",0,[t5,r_],[1,1]],nY=[3,rW,"GuardrailTopic",0,[rm,rB,tM,tQ],[0,0,0,2]],nQ=[3,rW,"GuardrailTopicPolicyAssessment",0,["topics"],[()=>o1]],nZ=[3,rW,"GuardrailTraceAssessment",0,["modelOutput","inputAssessment","outputAssessments","actionReason"],[64,[()=>ie,0],[()=>o7,0],0]],n0=[3,rW,"GuardrailUsage",0,["topicPolicyUnits","contentPolicyUnits","wordPolicyUnits","sensitiveInformationPolicyUnits","sensitiveInformationPolicyFreeUnits","contextualGroundingPolicyUnits","contentPolicyImageUnits","automatedReasoningPolicyUnits","automatedReasoningPolicies"],[1,1,1,1,1,1,1,1,1]],n3=[3,rW,"GuardrailWordPolicyAssessment",0,["customWords","managedWordLists"],[()=>oQ,()=>oZ]],n1=[3,rW,"ImageBlock",0,[t3,rw,t0],[0,[()=>ib,0],[()=>nh,0]]],n6=[3,rW,"ImageBlockDelta",0,[rw,t0],[[()=>ib,0],[()=>nh,0]]],n8=[3,rW,"ImageBlockStart",0,[t3],[0]],n2=[-3,rW,"InternalServerException",{[t0]:rR,[t7]:500},[rc],[0]];tp.TypeRegistry.for(rW).registerError(n2,tb);var n4=[3,rW,"InvokeModelRequest",0,[tN,tz,tG,rd,rH,t2,t4,rh,rP],[[()=>rJ,16],[0,{[re]:tI}],[0,{[re]:"Accept"}],[0,1],[0,{[re]:tB}],[0,{[re]:tT}],[0,{[re]:tO}],[0,{[re]:tU}],[0,{[re]:tD}]]],n5=[3,rW,"InvokeModelResponse",0,[tN,tz,rh,rP],[[()=>rJ,16],[0,{[re]:tI}],[0,{[re]:tU}],[0,{[re]:tD}]]],n9=[3,rW,"InvokeModelTokensRequest",0,[tN],[[()=>rJ,0]]],n7=[3,rW,"InvokeModelWithResponseStreamRequest",0,[tN,tz,tG,rd,rH,t2,t4,rh,rP],[[()=>rJ,16],[0,{[re]:tI}],[0,{[re]:"X-Amzn-Bedrock-Accept"}],[0,1],[0,{[re]:tB}],[0,{[re]:tT}],[0,{[re]:tO}],[0,{[re]:tU}],[0,{[re]:tD}]]],oe=[3,rW,"InvokeModelWithResponseStreamResponse",0,[tN,tz,rh,rP],[[()=>iw,16],[0,{[re]:"X-Amzn-Bedrock-Content-Type"}],[0,{[re]:tU}],[0,{[re]:tD}]]],ot=[3,rW,"Message",0,[rS,tJ],[0,[()=>oF,0]]],or=[3,rW,"MessageStartEvent",0,[rS],[0]],on=[3,rW,"MessageStopEvent",0,["stopReason","additionalModelResponseFields"],[0,15]],oo=[-3,rW,"ModelErrorException",{[t0]:tF,[t7]:424},[rc,rp,"resourceName"],[0,1,0]];tp.TypeRegistry.for(rW).registerError(oo,tC);var oi=[-3,rW,"ModelNotReadyException",{[t0]:tF,[t7]:429},[rc],[0]];tp.TypeRegistry.for(rW).registerError(oi,tP);var os=[-3,rW,"ModelStreamErrorException",{[t0]:tF,[t7]:424},[rc,rp,"originalMessage"],[0,1,0]];tp.TypeRegistry.for(rW).registerError(os,tR);var oa=[-3,rW,"ModelTimeoutException",{[t0]:tF,[t7]:408},[rc],[0]];tp.TypeRegistry.for(rW).registerError(oa,tA);var oc=[3,rW,"PayloadPart",8,[tL],[[()=>rQ,0]]],od=[3,rW,"PerformanceConfiguration",0,["latency"],[0]],ol=[3,rW,"PromptRouterTrace",0,["invokedModelId"],[0]],ou=[3,rW,"ReasoningTextBlock",8,[rN,rI],[0,0]],of=[-3,rW,"ResourceNotFoundException",{[t0]:tF,[t7]:404},[rc],[0]];tp.TypeRegistry.for(rW).registerError(of,tw);var om=[3,rW,"S3Location",0,["uri",t$],[0,0]],op=[3,rW,"SearchResultBlock",0,[rw,rF,tJ,tW],[0,0,()=>o8,()=>ne]],og=[3,rW,"SearchResultContentBlock",0,[rN],[0]],oh=[3,rW,"SearchResultLocation",0,["searchResultIndex",rU,"end"],[1,1,1]],oy=[-3,rW,"ServiceQuotaExceededException",{[t0]:tF,[t7]:400},[rc],[0]];tp.TypeRegistry.for(rW).registerError(oy,tE);var ob=[3,rW,"ServiceTier",0,[rB],[0]],ox=[-3,rW,"ServiceUnavailableException",{[t0]:rR,[t7]:503},[rc],[0]];tp.TypeRegistry.for(rW).registerError(ox,tk);var ov=[3,rW,"SpecificToolChoice",0,[rm],[0]],oS=[3,rW,"SystemTool",0,[rm],[0]],ow=[3,rW,"Tag",0,["key","value"],[0,0]],oE=[-3,rW,"ThrottlingException",{[t0]:tF,[t7]:429},[rc],[0]];tp.TypeRegistry.for(rW).registerError(oE,tx);var ok=[3,rW,"TokenUsage",0,["inputTokens","outputTokens","totalTokens","cacheReadInputTokens","cacheWriteInputTokens"],[1,1,1,1,1]],oC=[3,rW,"ToolConfiguration",0,["tools","toolChoice"],[()=>o9,()=>iC]],oP=[3,rW,"ToolResultBlock",0,[r$,tJ,rO,rB],[0,[()=>o5,0],0,0]],oA=[3,rW,"ToolResultBlockStart",0,[r$,rB,rO],[0,0,0]],oR=[3,rW,"ToolSpecification",0,[rm,"description","inputSchema"],[0,0,()=>iP]],oI=[3,rW,"ToolUseBlock",0,[r$,rm,rt,rB],[0,0,15,0]],oT=[3,rW,"ToolUseBlockDelta",0,[rt],[0]],oO=[3,rW,"ToolUseBlockStart",0,[r$,rm,rB],[0,0,0]],oU=[-3,rW,"ValidationException",{[t0]:tF,[t7]:400},[rc],[0]];tp.TypeRegistry.for(rW).registerError(oU,tv);var oD=[3,rW,"VideoBlock",0,[t3,rw],[0,()=>iI]],oB=[3,rW,"WebLocation",0,["url","domain"],[0,0]],oM=[-3,rT,"BedrockRuntimeServiceException",0,[],[]];tp.TypeRegistry.for(rT).registerError(oM,th);var oG=[1,rW,"CitationGeneratedContentList",0,()=>io],oL=[1,rW,"Citations",0,()=>r7],o$=[1,rW,"CitationSourceContentList",0,()=>is],oN=[1,rW,"CitationSourceContentListDelta",0,()=>nn],oF=[1,rW,"ContentBlocks",0,[()=>ia,0]],o_=[1,rW,"DocumentContentBlocks",0,()=>il],oH=[1,rW,"GuardrailAssessmentList",0,[()=>ny,0]],oj=[1,rW,"GuardrailAutomatedReasoningDifferenceScenarioList",0,[()=>nP,0]],oz=[1,rW,"GuardrailAutomatedReasoningFindingList",0,[()=>im,0]],oV=[1,rW,"GuardrailAutomatedReasoningInputTextReferenceList",0,[()=>nx,0]],oq=[1,rW,"GuardrailAutomatedReasoningRuleList",0,()=>nk],oW=[1,rW,"GuardrailAutomatedReasoningStatementList",0,[()=>nA,0]],oX=[1,rW,"GuardrailAutomatedReasoningTranslationList",0,[()=>nI,0]],oJ=[1,rW,"GuardrailAutomatedReasoningTranslationOptionList",0,[()=>nO,0]],oK=[1,rW,"GuardrailContentFilterList",0,()=>nD],oY=[1,rW,"GuardrailContextualGroundingFilters",0,()=>nM],oQ=[1,rW,"GuardrailCustomWordList",0,()=>nF],oZ=[1,rW,"GuardrailManagedWordList",0,()=>nz],o0=[1,rW,"GuardrailPiiEntityFilterList",0,()=>nq],o3=[1,rW,"GuardrailRegexFilterList",0,()=>nW],o1=[1,rW,"GuardrailTopicList",0,()=>nY],o6=[1,rW,"Messages",0,[()=>ot,0]],o8=[1,rW,"SearchResultContentBlocks",0,()=>og],o2=[1,rW,"SystemContentBlocks",0,[()=>iE,0]],o4=[1,rW,"ToolResultBlocksDelta",0,()=>iA],o5=[1,rW,"ToolResultContentBlocks",0,[()=>iR,0]],o9=[1,rW,"Tools",0,()=>ik],o7=[2,rW,"GuardrailAssessmentListMap",0,[0,0],[()=>oH,0]],ie=[2,rW,"GuardrailAssessmentMap",0,[0,0],[()=>ny,0]],it=[3,rW,"AsyncInvokeOutputDataConfig",0,["s3OutputDataConfig"],[()=>r1]],ir=[3,rW,"AudioSource",8,[tL,rk],[21,()=>om]],io=[3,rW,"CitationGeneratedContent",0,[rN],[0]],ii=[3,rW,"CitationLocation",0,["web","documentChar","documentPage","documentChunk","searchResultLocation"],[()=>oB,()=>nm,()=>ng,()=>np,()=>oh]],is=[3,rW,"CitationSourceContent",0,[rN],[0]],ia=[3,rW,"ContentBlock",0,[rN,rn,tZ,rq,"audio",rL,rG,t8,tH,rx,"citationsContent",rC],[0,[()=>n1,0],()=>nf,()=>oD,[()=>r8,0],()=>oI,[()=>oP,0],[()=>ig,0],()=>r9,[()=>iv,0],()=>nt,()=>op]],ic=[3,rW,"ContentBlockDelta",0,[rN,rL,rG,rx,"citation",rn],[0,()=>oT,()=>o4,[()=>iS,0],()=>nr,[()=>n6,0]]],id=[3,rW,"ContentBlockStart",0,[rL,rG,rn],[()=>oO,()=>oA,()=>n8]],il=[3,rW,"DocumentContentBlock",0,[rN],[0]],iu=[3,rW,"DocumentSource",0,[tL,rk,rN,tJ],[21,()=>om,0,()=>o_]],im=[3,rW,"GuardrailAutomatedReasoningFinding",0,["valid","invalid","satisfiable","impossible","translationAmbiguous","tooComplex","noTranslations"],[[()=>nU,0],[()=>nv,0],[()=>nC,0],[()=>nb,0],[()=>nT,0],()=>nR,()=>nw]],ip=[3,rW,"GuardrailContentBlock",0,[rN,rn],[()=>nJ,[()=>n_,0]]],ig=[3,rW,"GuardrailConverseContentBlock",0,[rN,rn],[()=>n$,[()=>nL,0]]],ih=[3,rW,"GuardrailConverseImageSource",8,[tL],[21]],iy=[3,rW,"GuardrailImageSource",8,[tL],[21]],ib=[3,rW,"ImageSource",8,[tL,rk],[21,()=>om]],ix=[3,rW,"PromptVariableValues",0,[rN],[0]],iv=[3,rW,"ReasoningContentBlock",8,["reasoningText",rv],[[()=>ou,0],21]],iS=[3,rW,"ReasoningContentBlockDelta",8,[rN,rv,rI],[0,21,0]],iw=[3,rW,"ResponseStream",{[rD]:1},[tq,rr,rl,rV,rM,ru,rA],[[()=>oc,0],[()=>n2,0],[()=>os,0],[()=>oU,0],[()=>oE,0],[()=>oa,0],[()=>ox,0]]],iE=[3,rW,"SystemContentBlock",0,[rN,t8,tH],[0,[()=>ig,0],()=>r9]],ik=[3,rW,"Tool",0,["toolSpec","systemTool",tH],[()=>oR,()=>oS,()=>r9]],iC=[3,rW,"ToolChoice",0,["auto","any","tool"],[()=>r2,()=>r0,()=>ov]],iP=[3,rW,"ToolInputSchema",0,[ro],[15]],iA=[3,rW,"ToolResultBlockDelta",0,[rN,ro],[0,15]],iR=[3,rW,"ToolResultContentBlock",0,[ro,rN,rn,tZ,rq,rC],[15,0,[()=>n1,0],()=>nf,()=>oD,()=>op]],iI=[3,rW,"VideoSource",0,[tL,rk],[21,()=>om]],iT=[9,rW,"InvokeModel",{[t9]:["POST","/model/{modelId}/invoke",200]},()=>n4,()=>n5],iO=[9,rW,"InvokeModelWithResponseStream",{[t9]:["POST","/model/{modelId}/invoke-with-response-stream",200]},()=>n7,()=>oe];class iU extends tm.Command.classBuilder().ep(P).m(function(e,t,r,n){return[(0,tf.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","InvokeModel",{}).n("BedrockRuntimeClient","InvokeModelCommand").sc(iT).build(){}var iD=tf,iB=tm;class iM extends iB.Command.classBuilder().ep(P).m(function(e,t,r,n){return[(0,iD.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","InvokeModelWithResponseStream",{eventStream:{output:!0}}).n("BedrockRuntimeClient","InvokeModelWithResponseStreamCommand").sc(iO).build(){}let iG=new tu({region:process.env.AWS_REGION||"us-east-1"}),iL="anthropic.claude-sonnet-4-20250514-v1:0";async function i$(e,t){let r={anthropic_version:"bedrock-2023-05-31",max_tokens:16e3,messages:[{role:"user",content:e}],temperature:.5};t&&(r.system=t);let n=new iU({modelId:iL,body:JSON.stringify(r)}),o=await iG.send(n);return JSON.parse(new TextDecoder().decode(o.body)).content[0].text}async function*iN(e,t){let r={anthropic_version:"bedrock-2023-05-31",max_tokens:16e3,messages:[{role:"user",content:e}],temperature:.5};t&&(r.system=t);let n=new iM({modelId:iL,body:JSON.stringify(r)}),o=await iG.send(n);if(o.body){for await(let e of o.body)if(e.chunk?.bytes){let t=JSON.parse(new TextDecoder().decode(e.chunk.bytes));"content_block_delta"===t.type&&t.delta?.text&&(yield t.delta.text)}}}e.s(["invokeClaude",()=>i$,"invokeClaudeStream",()=>iN],6797)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8229cac7._.js.map