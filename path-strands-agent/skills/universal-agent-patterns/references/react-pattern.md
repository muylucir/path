# ReAct Pattern (Reasoning + Acting)

## 개념

ReAct는 "Reasoning and Acting"의 줄임말로, Agent가 단계별로 추론(Think)하고 행동(Act)한 뒤 결과를 관찰(Observe)하는 사이클을 반복합니다.

```
Think -> Act -> Observe -> Think -> Act -> Observe -> ...
```

## 핵심 구성 요소

### 1. Think (추론)
- 현재 상황 분석
- 다음 행동 결정
- 내부 독백 (Chain of Thought)

### 2. Act (행동)
- 도구 호출
- API 요청
- 데이터 조회

### 3. Observe (관찰)
- 행동 결과 확인
- 새로운 정보 수집
- 목표 달성 여부 판단

## 적합한 상황

| 상황 | 설명 |
|------|------|
| 정보 검색 | 여러 소스에서 정보를 찾아 종합 |
| 문제 해결 | 단계별 접근이 필요한 복잡한 문제 |
| 동적 작업 | 중간 결과에 따라 다음 단계가 변경 |

## Agent 구성 예시

```
ReAct Agent
├── System Prompt
│   ├── 역할 정의
│   ├── 추론 지침
│   └── 도구 사용 가이드
├── Tools
│   ├── search_tool
│   ├── calculator_tool
│   └── database_tool
└── Stop Condition
    └── 최종 답변 도출 시 종료
```

## State 관리

| State 유형 | 내용 | 예시 |
|-----------|------|------|
| **Scratchpad** | 추론 과정 기록 | 이전 행동, 관찰 결과 |
| **Intermediate Results** | 중간 결과물 | 검색 결과, 계산 결과 |
| **Goal State** | 목표 달성 상태 | 완료 여부, 진행률 |

## 예제: 질문 답변 Agent

### System Prompt 예시

```
당신은 정보 검색 전문가입니다.

사용자의 질문에 답하기 위해:
1. 질문을 분석하고 필요한 정보를 파악하세요 (Think)
2. 적절한 도구를 사용하여 정보를 검색하세요 (Act)
3. 검색 결과를 분석하고 추가 검색이 필요한지 판단하세요 (Observe)
4. 충분한 정보가 모이면 최종 답변을 작성하세요

각 단계에서 추론 과정을 명확히 설명하세요.
```

### 실행 흐름 예시

```
User: "2024년 올림픽 개최 도시의 인구는?"

[Think] 두 가지 정보 필요:
  1) 2024년 올림픽 개최 도시
  2) 해당 도시의 인구

[Act] search("2024 올림픽 개최 도시")

[Observe] 결과: 파리

[Think] 파리의 인구 정보 필요

[Act] search("파리 인구 2024")

[Observe] 결과: 약 220만 명

[Final Answer] 2024년 올림픽 개최 도시인 파리의 인구는 약 220만 명입니다.
```

## 주의사항

1. **무한 루프 방지**: 최대 반복 횟수 설정
2. **도구 선택 명확화**: 어떤 상황에서 어떤 도구를 사용할지 가이드 제공
3. **실패 처리**: 도구 호출 실패 시 대안 전략 수립
