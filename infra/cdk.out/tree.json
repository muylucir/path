{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.239.0"},"children":{"PathAgentDesigner":{"id":"PathAgentDesigner","path":"PathAgentDesigner","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.239.0"},"children":{"SessionsTable":{"id":"SessionsTable","path":"PathAgentDesigner/SessionsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.239.0"},"children":{"Resource":{"id":"Resource","path":"PathAgentDesigner/SessionsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"session_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"session_id","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"path-agent-designer-sessions"}}},"ScalingRole":{"id":"ScalingRole","path":"PathAgentDesigner/SessionsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.239.0"}}}},"AgentCodeAsset":{"id":"AgentCodeAsset","path":"PathAgentDesigner/AgentCodeAsset","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.239.0"},"children":{"Stage":{"id":"Stage","path":"PathAgentDesigner/AgentCodeAsset/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.239.0"}},"AssetBucket":{"id":"AssetBucket","path":"PathAgentDesigner/AgentCodeAsset/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.239.0"}}}},"AgentCoreRole":{"id":"AgentCoreRole","path":"PathAgentDesigner/AgentCoreRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.239.0"},"children":{"Resource":{"id":"Resource","path":"PathAgentDesigner/AgentCoreRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"bedrock-agentcore.amazonaws.com"}}],"Version":"2012-10-17"},"description":"IAM role for P.A.T.H AgentCore Runtime","roleName":"PATH-AgentCore-Runtime"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PathAgentDesigner/AgentCoreRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.239.0"},"children":{"Resource":{"id":"Resource","path":"PathAgentDesigner/AgentCoreRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":["arn:aws:bedrock:*::foundation-model/*","arn:aws:bedrock:*:939105814298:*"]},{"Action":["s3:GetObject","s3:GetBucketLocation"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-939105814298-ap-northeast-2"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-939105814298-ap-northeast-2/*"]]}]},{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents","logs:DescribeLogGroups","logs:DescribeLogStreams"],"Effect":"Allow","Resource":"arn:aws:logs:ap-northeast-2:939105814298:log-group:/aws/bedrock-agentcore/runtimes/*"},{"Action":["xray:PutTraceSegments","xray:PutTelemetryRecords","xray:GetSamplingRules","xray:GetSamplingTargets"],"Effect":"Allow","Resource":"*"},{"Action":"cloudwatch:PutMetricData","Condition":{"StringEquals":{"cloudwatch:namespace":"bedrock-agentcore"}},"Effect":"Allow","Resource":"*"},{"Action":["bedrock-agentcore:GetWorkloadAccessToken","bedrock-agentcore:GetWorkloadAccessTokenForJWT","bedrock-agentcore:GetWorkloadAccessTokenForUserId"],"Effect":"Allow","Resource":["arn:aws:bedrock-agentcore:ap-northeast-2:939105814298:workload-identity-directory/default","arn:aws:bedrock-agentcore:ap-northeast-2:939105814298:workload-identity-directory/default/workload-identity/*"]}],"Version":"2012-10-17"},"policyName":"AgentCoreRoleDefaultPolicyEB23C10B","roles":[{"Ref":"AgentCoreRoleD989E366"}]}}}}}}},"AgentRuntime":{"id":"AgentRuntime","path":"PathAgentDesigner/AgentRuntime","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrockagentcore.CfnRuntime","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::BedrockAgentCore::Runtime","aws:cdk:cloudformation:props":{"agentRuntimeArtifact":{"codeConfiguration":{"code":{"s3":{"bucket":"cdk-hnb659fds-assets-939105814298-ap-northeast-2","prefix":"76bed0a290d4933325c34bab39eb64fea8e8c5528cdc92638311dcc7161e2bfa.zip"}},"entryPoint":["agentcore_entrypoint.py"],"runtime":"PYTHON_3_11"}},"agentRuntimeName":"PATH_Agent_Designer","description":"P.A.T.H Agent Designer â€” Feasibility, Pattern, Spec agents","environmentVariables":{"AWS_DEFAULT_REGION":"ap-northeast-2","BEDROCK_MODEL_ID":"global.anthropic.claude-opus-4-6-v1"},"networkConfiguration":{"networkMode":"PUBLIC"},"protocolConfiguration":"HTTP","roleArn":{"Fn::GetAtt":["AgentCoreRoleD989E366","Arn"]}}}},"AgentEndpoint":{"id":"AgentEndpoint","path":"PathAgentDesigner/AgentEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrockagentcore.CfnRuntimeEndpoint","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::BedrockAgentCore::RuntimeEndpoint","aws:cdk:cloudformation:props":{"agentRuntimeId":{"Fn::GetAtt":["AgentRuntime","AgentRuntimeId"]},"description":"Default endpoint for PATH Agent Designer","name":"PATH_Agent_Endpoint"}}},"AmplifyRole":{"id":"AmplifyRole","path":"PathAgentDesigner/AmplifyRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.239.0"},"children":{"Resource":{"id":"Resource","path":"PathAgentDesigner/AmplifyRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"amplify.amazonaws.com"}}],"Version":"2012-10-17"},"description":"IAM role for P.A.T.H Amplify Next.js app","roleName":"PATH-Amplify-Execution"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PathAgentDesigner/AmplifyRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.239.0"},"children":{"Resource":{"id":"Resource","path":"PathAgentDesigner/AmplifyRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"bedrock-agentcore:InvokeAgentRuntime","Effect":"Allow","Resource":[{"Fn::GetAtt":["AgentRuntime","AgentRuntimeArn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AgentRuntime","AgentRuntimeArn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["SessionsTable7C302024","Arn"]}},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["SessionsTable7C302024","Arn"]}}],"Version":"2012-10-17"},"policyName":"AmplifyRoleDefaultPolicyBCD6AD91","roles":[{"Ref":"AmplifyRole7A8FD9BC"}]}}}}}}},"AgentRuntimeArn":{"id":"AgentRuntimeArn","path":"PathAgentDesigner/AgentRuntimeArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.239.0"}},"AgentRuntimeId":{"id":"AgentRuntimeId","path":"PathAgentDesigner/AgentRuntimeId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.239.0"}},"AgentEndpointArn":{"id":"AgentEndpointArn","path":"PathAgentDesigner/AgentEndpointArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.239.0"}},"SessionsTableName":{"id":"SessionsTableName","path":"PathAgentDesigner/SessionsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.239.0"}},"AmplifyRoleArn":{"id":"AmplifyRoleArn","path":"PathAgentDesigner/AmplifyRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.239.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PathAgentDesigner/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.5.1"},"children":{"Default":{"id":"Default","path":"PathAgentDesigner/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.239.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PathAgentDesigner/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.239.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PathAgentDesigner/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.239.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.5.1"}}}}}